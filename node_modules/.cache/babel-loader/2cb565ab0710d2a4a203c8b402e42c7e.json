{"ast":null,"code":"import _classCallCheck from\"A:/WorkPorjects/Skill Box/greencosmicStudy/Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"A:/WorkPorjects/Skill Box/greencosmicStudy/Frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"A:/WorkPorjects/Skill Box/greencosmicStudy/Frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"A:/WorkPorjects/Skill Box/greencosmicStudy/Frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import $api from\"../../Http/index.js\";import{setUser as _setUser}from\"../../Redux/Reducers/userReducer.js\";import{loading as _loading,setStatusCode as _setStatusCode}from\"../../Redux/Reducers/loadingReducer.js\";import Authentication from\"./Authentication.jsx\";import Preloader from\"../../Assets/Preloader/PreloaderPage.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";var AuthenticationContainer=/*#__PURE__*/function(_React$Component){_inherits(AuthenticationContainer,_React$Component);var _super=_createSuper(AuthenticationContainer);function AuthenticationContainer(){var _this;_classCallCheck(this,AuthenticationContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.registration=function(_ref){var username=_ref.username,password=_ref.password,email=_ref.email;// this.props.loading(true);\n$api.post(\"/registration\",{email:email,password:password,username:username}).then(function(response){console.log(response);/* let user = {\r\n            token: response.data.accessToken,\r\n            username: response.data.user.username,\r\n          };\r\n          props.setUser(user);*/ // this.props.setStatusCode(response.status);\nwindow.open(response.data.url,\"payment_page\",[\"popup=yes\",\"height=600\",\"width=600\",\"left=300\",\"top=20\"]);_this.props.loading(false);}).catch(function(error){_this.props.loading(false);console.log(error);});};return _this;}_createClass(AuthenticationContainer,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:this.props.state.isLoading.isLoading?/*#__PURE__*/_jsx(Preloader,{}):/*#__PURE__*/_jsx(Authentication,{state:this.props.state,registration:this.registration})});}}]);return AuthenticationContainer;}(React.Component);//console.log(AuthenticationContainer);\nvar mapStateToProps=function mapStateToProps(state){return{state:state};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setUser:function setUser(user){return dispatch(_setUser(user));},loading:function loading(isLoading){return dispatch(_loading(isLoading));},setStatusCode:function setStatusCode(value){return dispatch(_setStatusCode(value));}};};export default connect(mapStateToProps,mapDispatchToProps)(AuthenticationContainer);","map":{"version":3,"sources":["A:/WorkPorjects/Skill Box/greencosmicStudy/Frontend/src/Components/Authentication/AuthenticationContainer.jsx"],"names":["React","connect","$api","setUser","loading","setStatusCode","Authentication","Preloader","AuthenticationContainer","registration","username","password","email","post","then","response","console","log","window","open","data","url","props","catch","error","state","isLoading","Component","mapStateToProps","mapDispatchToProps","dispatch","user","value"],"mappings":"wgBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,IAAP,KAAiB,qBAAjB,CACA,OAASC,OAAO,GAAPA,CAAAA,QAAT,KAAwB,qCAAxB,CACA,OAASC,OAAO,GAAPA,CAAAA,QAAT,CAAkBC,aAAa,GAAbA,CAAAA,cAAlB,KAAuC,wCAAvC,CACA,MAAOC,CAAAA,cAAP,KAA2B,sBAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,0CAAtB,C,8CAEMC,CAAAA,uB,2YACJC,Y,CAAe,cAAmC,IAAhCC,CAAAA,QAAgC,MAAhCA,QAAgC,CAAtBC,QAAsB,MAAtBA,QAAsB,CAAZC,KAAY,MAAZA,KAAY,CAChD;AACAV,IAAI,CACDW,IADH,CACQ,eADR,CACyB,CAAED,KAAK,CAALA,KAAF,CAASD,QAAQ,CAARA,QAAT,CAAmBD,QAAQ,CAARA,QAAnB,CADzB,EAEGI,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACA;AACR;AACA;AACA;AACA,gCAN0B,CAOlB;AACAG,MAAM,CAACC,IAAP,CAAYJ,QAAQ,CAACK,IAAT,CAAcC,GAA1B,CAA+B,cAA/B,CAA+C,CAC7C,WAD6C,CAE7C,YAF6C,CAG7C,WAH6C,CAI7C,UAJ6C,CAK7C,QAL6C,CAA/C,EAOA,MAAKC,KAAL,CAAWlB,OAAX,CAAmB,KAAnB,EACD,CAlBH,EAmBGmB,KAnBH,CAmBS,SAACC,KAAD,CAAW,CAChB,MAAKF,KAAL,CAAWlB,OAAX,CAAmB,KAAnB,EACAY,OAAO,CAACC,GAAR,CAAYO,KAAZ,EACD,CAtBH,EAuBD,C,yEAED,iBAAS,CACP,mBACE,qBACG,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,SAAjB,CAA2BA,SAA3B,cACC,KAAC,SAAD,IADD,cAGC,KAAC,cAAD,EACE,KAAK,CAAE,KAAKJ,KAAL,CAAWG,KADpB,CAEE,YAAY,CAAE,KAAKhB,YAFrB,EAJJ,EADF,CAYD,C,qCAzCmCT,KAAK,CAAC2B,S,EA2C5C;AACA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACH,KAAD,CAAW,CACjC,MAAO,CACLA,KAAK,CAAEA,KADF,CAAP,CAGD,CAJD,CAKA,GAAMI,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACvC,MAAO,CACL3B,OAAO,CAAE,iBAAC4B,IAAD,QAAUD,CAAAA,QAAQ,CAAC3B,QAAO,CAAC4B,IAAD,CAAR,CAAlB,EADJ,CAEL3B,OAAO,CAAE,iBAACsB,SAAD,QAAeI,CAAAA,QAAQ,CAAC1B,QAAO,CAACsB,SAAD,CAAR,CAAvB,EAFJ,CAGLrB,aAAa,CAAE,uBAAC2B,KAAD,QAAWF,CAAAA,QAAQ,CAACzB,cAAa,CAAC2B,KAAD,CAAd,CAAnB,EAHV,CAAP,CAKD,CAND,CAOA,cAAe/B,CAAAA,OAAO,CACpB2B,eADoB,CAEpBC,kBAFoB,CAAP,CAGbrB,uBAHa,CAAf","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport $api from \"../../Http/index.js\";\r\nimport { setUser } from \"../../Redux/Reducers/userReducer.js\";\r\nimport { loading, setStatusCode } from \"../../Redux/Reducers/loadingReducer.js\";\r\nimport Authentication from \"./Authentication.jsx\";\r\nimport Preloader from \"../../Assets/Preloader/PreloaderPage.jsx\";\r\n\r\nclass AuthenticationContainer extends React.Component {\r\n  registration = ({ username, password, email }) => {\r\n    // this.props.loading(true);\r\n    $api\r\n      .post(\"/registration\", { email, password, username })\r\n      .then((response) => {\r\n        console.log(response);\r\n        /* let user = {\r\n            token: response.data.accessToken,\r\n            username: response.data.user.username,\r\n          };\r\n          props.setUser(user);*/\r\n        // this.props.setStatusCode(response.status);\r\n        window.open(response.data.url, \"payment_page\", [\r\n          \"popup=yes\",\r\n          \"height=600\",\r\n          \"width=600\",\r\n          \"left=300\",\r\n          \"top=20\",\r\n        ]);\r\n        this.props.loading(false);\r\n      })\r\n      .catch((error) => {\r\n        this.props.loading(false);\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.props.state.isLoading.isLoading ? (\r\n          <Preloader />\r\n        ) : (\r\n          <Authentication\r\n            state={this.props.state}\r\n            registration={this.registration}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n//console.log(AuthenticationContainer);\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    state: state,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setUser: (user) => dispatch(setUser(user)),\r\n    loading: (isLoading) => dispatch(loading(isLoading)),\r\n    setStatusCode: (value) => dispatch(setStatusCode(value)),\r\n  };\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AuthenticationContainer);\r\n"]},"metadata":{},"sourceType":"module"}