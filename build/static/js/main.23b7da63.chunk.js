(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){e.exports={"payment-message":"Payment_payment-message__PrXpm","payment-element":"Payment_payment-element__1djN0",spinner:"Payment_spinner__2MSy2",loading:"Payment_loading__2KsDy"}},12:function(e,t,n){e.exports={container:"Courses_container__1HEAl",title:"Courses_title__FDnh9",text:"Courses_text__2zqMU",customInput:"Courses_customInput__1pgew",buttonContainer:"Courses_buttonContainer__kWFoR",button:"Courses_button__1vf3f",steps:"Courses_steps__ToKOZ",oneStep:"Courses_oneStep__7W3m0",stepTitle:"Courses_stepTitle__xRm3s",select:"Courses_select__1gT6j",textarea:"Courses_textarea__24LSC",admin:"Courses_admin__26BdT"}},120:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),a=n(32),c=n.n(a),o=(n(67),n(8)),i=n(9),u=n(11),l=n(10),j=n(6),d=n(3),p="LOADING",b="SET_STATUS_CODE",m="WRONG_AUTH",h={isLoading:!1,statusCode:"",wrongAuth:!1},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)(Object(d.a)({},e),{},{wrongAuth:t.value});case p:return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.isLoading});case b:return Object(d.a)(Object(d.a)({},e),{},{statusCode:t.value});default:return e}},v=function(e){return{type:m,value:e}},_=function(e){return{type:p,isLoading:e}},x=n(15),g=n.n(x),f=n.p+"static/media/profile.0ab04cc9.svg",N=n(7),C=n(0);var k=function(e){return Object(C.jsx)("div",{className:g.a.name_main,children:localStorage.getItem("isAuth")?Object(C.jsxs)(N.c,{style:function(e){return{color:e.isActive?"var(--color-active)":"black"}},to:"/profile",children:[Object(C.jsx)("div",{className:g.a.username,children:localStorage.getItem("username")}),Object(C.jsx)("div",{className:g.a.button,children:Object(C.jsx)("img",{className:g.a.profileImg,src:f,alt:""})})]}):Object(C.jsx)("div",{})})},y=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(C.jsx)(k,{username:this.props.state.user.username,isAuth:this.props.state.user.isAuth})}}]),n}(r.a.Component),S=Object(j.b)((function(e){return{state:e}}),(function(e){return{loading:function(t){return e(_(t))}}}))(y),L=n(20),A=n.n(L);var I=function(e){return Object(C.jsx)("div",{className:A.a.name_header,children:e.isAuth?Object(C.jsx)("div",{children:e.username}):Object(C.jsx)("div",{})})},T=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return console.log(this.props.state),Object(C.jsx)(I,{username:this.props.state.username,isAuth:this.props.state.isAuth})}}]),n}(r.a.Component);Object(j.b)((function(e){return{state:e.user}}))(T);var E="SET_COURSES",w="ADD_STEP",P="CREATE_COURSE",R="UPDATE_COURSE",D="PUSH_COURSE",U="COURSE_TITLE",M="SET_PERSONAL_COURSE",F="SET_TOTAL_PAGES_COUNT",B="SET_COURSE_ID",H="SET_CURRENT_PAGE",K="SET_PERSONAL_PROGRESS",G="SET_CURRENT_COURSE_NAME",W="SET_LESSONS",q="SET_CURRENT_LESSON",z="SET_STEPS",Y="SET_CURRENT_STEP_NAME",J="SET_COURSE_DESCRIPTION",V="SET_ONE_STEP",Z="SET_CURRENT_LESSON_NUMBER",Q={courses:[{id:0},{id:1}],courseTitle:"",stepsLength:[],userCourses:"",personalCourse:"",currentPage:0,totalPagesCount:0,courseDescription:"",currentCourseName:"",lessons:"",currentLessonName:"",currentLessonNumber:"",steps:[],oneStep:"",currentStepName:"",courseId:"",personalProgress:""},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(d.a)(Object(d.a)({},e),{},{currentLessonNumber:t.value});case V:return Object(d.a)(Object(d.a)({},e),{},{oneStep:t.value});case J:return Object(d.a)(Object(d.a)({},e),{},{courseDescription:t.value});case z:return Object(d.a)(Object(d.a)({},e),{},{steps:t.value});case Y:return Object(d.a)(Object(d.a)({},e),{},{currentStepName:t.value});case q:return Object(d.a)(Object(d.a)({},e),{},{currentLessonName:t.value});case W:return Object(d.a)(Object(d.a)({},e),{},{lessons:t.value});case G:return Object(d.a)(Object(d.a)({},e),{},{currentCourseName:t.value});case E:return Object(d.a)(Object(d.a)({},e),{},{userCourses:t.value});case w:var n=e.stepsLength;return n.push(t.value),Object(d.a)(Object(d.a)({},e),{},{stepsLength:n});case P:return Object(d.a)(Object(d.a)({},e),{},{courses:t.value});case U:return Object(d.a)(Object(d.a)({},e),{},{courseTitle:t.value});case R:var s=e.courses,r=0;if(0===s.length){s.splice(s.length,0,t.value),se(s);break}for(;r<s.length;){if(s[r].id===t.value.id){s.splice(r,1,t.value),se(s);break}if(r===s.length-1){s.splice(s.length+1,0,t.value),console.log(s),se(s);break}r++}return e;case D:return Object(d.a)(Object(d.a)({},e),{},{courses:t.array});case M:return Object(d.a)(Object(d.a)({},e),{},{personalCourse:t.value});case F:return Object(d.a)(Object(d.a)({},e),{},{totalPagesCount:t.value});case B:return Object(d.a)(Object(d.a)({},e),{},{courseId:t.value});case H:return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.value});case K:return Object(d.a)(Object(d.a)({},e),{},{personalProgress:t.value});default:return e}},$=function(e){return{type:z,value:e}},ee=function(e){return{type:q,value:e}},te=function(e){return{type:W,value:e}},ne=function(e){return{type:G,value:e}},se=function(e){return{type:D,value:e}},re=function(e){return{type:E,value:e}};var ae=function(e){function t(t){e.setCurrentLessonName(t)}return Object(C.jsx)("div",{className:g.a.profile_main,children:Object(C.jsx)("div",{className:g.a.fixed,children:Object(C.jsxs)("div",{className:g.a.fixed_fixed,children:[Object(C.jsx)("div",{className:g.a.title,children:Object(C.jsx)(N.c,{style:function(e){return{color:e.isActive?"var(--color-active)":"white"}},to:"/courses",children:Object(C.jsx)("div",{children:"GreenCosmic Study"})})}),localStorage.getItem("isAuth")?Object(C.jsx)("div",{className:g.a.buttons,children:Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:g.a.Nav,children:"Current Course:"}),Object(C.jsx)("div",{className:g.a.button,children:""!==e.currentCourseName?Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:e.currentCourseName}),Object(C.jsx)("div",{children:Object(C.jsx)("div",{children:e.lessons.length>0?Object(C.jsx)("div",{children:e.lessons.map((function(n){return Object(C.jsx)("div",{className:g.a.lesson,children:e.currentLessonName===n.lessonName?Object(C.jsx)("div",{onClick:function(){t(n.lessonName)},className:g.a.selected,children:n.lessonName}):Object(C.jsx)("div",{onClick:function(){t(n.lessonName)},className:g.a.unselected,children:n.lessonName})},n.id)}))}):Object(C.jsx)("div",{})})})]}):Object(C.jsx)("div",{})})]})}):Object(C.jsx)("div",{className:g.a.greetings,children:"Good morning! We are glad to see you."})]})})})},ce=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(C.jsx)(ae,{currentCourseName:this.props.state.courses.currentCourseName,currentLessonName:this.props.state.courses.currentLessonName,lessons:this.props.state.courses.lessons,username:this.props.state.user.username,isAuth:this.props.state.user.isAuth,setCurrentLessonName:this.props.setCurrentLessonName})}}]),n}(r.a.Component),oe=Object(j.b)((function(e){return{state:e}}),(function(e){return{setCurrentLessonName:function(t){return e(ee(t))}}}))(ce),ie=n(23),ue=n.n(ie),le=n(33),je=n(35),de=n(42),pe="SET_USER",be="GET_USER",me="REFRESH_TOKEN",he="SET_BIRTHDAY",Oe="SET_PHONE_NUMBER",ve="SET_CITY",_e="SET_LINK_INST",xe="SET_LINK_LINKEDIN",ge="SET_LINK_FACEBOOK",fe="CLIENT_SECRET",Ne="IS_AUTH",Ce="SET_USER_NAME",ke={client_secret:"",token:"",username:"",_id:"",role:"",isAuth:"",birthday:"",phoneNumber:"",city:"",linkToInstagram:"",linkToFacebook:"",linkToLinkedIn:""},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(d.a)(Object(d.a)({},e),{},{client_secret:t.value});case he:return Object(d.a)(Object(d.a)({},e),{},{birthday:t.value});case Oe:return Object(d.a)(Object(d.a)({},e),{},{phoneNumber:t.value});case ve:return Object(d.a)(Object(d.a)({},e),{},{city:t.value});case _e:return Object(d.a)(Object(d.a)({},e),{},{linkToInstagram:t.value});case xe:return Object(d.a)(Object(d.a)({},e),{},{linkToLinkedIn:t.value});case ge:return Object(d.a)(Object(d.a)({},e),{},{linkToFacebook:t.value});case Ce:return Object(d.a)(Object(d.a)({},e),{},{username:t.username});case pe:return Object(d.a)(Object(d.a)({},e),{},{token:t.user.token,username:t.user.username,_id:t.user._id,role:t.user.role});case be:console.log(e);break;case Ne:return Object(d.a)(Object(d.a)({},e),{},{isAuth:t.value});case me:return Object(d.a)(Object(d.a)({},e),{},{token:t.value.accessToken,username:t.value.user.username,_id:t.value.user.id,role:t.value.user.roles});default:return e}},Se=function(e){return{type:pe,user:e}},Le=function(e){return{type:Ne,value:e}},Ae=Object(de.a)({courses:X,user:ye,isLoading:O}),Ie=Object(de.b)(Ae);je.defaults.withCredentials=!0;var Te=je.create({withCredentials:!0,baseURL:"https://greencosmic-api.vercel.app/api"});Te.interceptors.request.use((function(e){return e.headers.Authorization="Bearer "+localStorage.getItem("token"),console.log(e.headers),e})),Te.interceptors.response.use((function(e){return e}),function(){var e=Object(le.a)(ue.a.mark((function e(t){var n,s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.response.config,console.log(t.response.status),401!==t.response.status||!t.response.config||t.response.config.retry){e.next=18;break}return n.retry=!0,e.prev=4,e.next=7,je.get("/refresh",{withCredentials:!0});case 7:return s=e.sent,console.log(s),localStorage.setItem("token",s.data.accessToken),Ie.dispatch(Le(!0)),e.abrupt("return",Te.request(n));case 14:return e.prev=14,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return");case 18:throw t;case 19:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}());var Ee=Te,we=n(19),Pe=n.n(we),Re=n(21),De=n.n(Re),Ue=n(38);var Me=function(e){return Object(C.jsx)("div",{className:De.a.blockContainer,children:Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:De.a.blockName,children:e.blockName}),Object(C.jsx)("div",{className:De.a.blockContent,children:e.blockContent})]})})},Fe=n(27),Be=n.n(Fe);var He=function(e){return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:Pe.a.courseNameContainer,children:[Object(C.jsx)("div",{className:Pe.a.courseName,children:e.courseDescription.courseName}),Object(C.jsx)("div",{className:Pe.a.imageContainer,children:Object(C.jsx)("img",{className:Pe.a.img,src:e.courseDescription.mainImage,alt:""})})]}),Object(C.jsx)("div",{className:Pe.a.buttonContainer,children:Object(C.jsx)("div",{className:Pe.a.button,children:Object(C.jsx)(N.c,{to:"/courses/lessons",children:"Start"})})}),Object(C.jsx)("div",{className:Pe.a.blocksContainer,children:e.courseDescription.blocks?e.courseDescription.blocks.map((function(e){if("Text"===e.blockType)return Object(C.jsx)(Me,{blockContent:e.blockContent,blockName:e.blockName})})):Object(C.jsx)("div",{})})]})},Ke=n.p+"static/media/preloader.9dd581ae.gif",Ge=n(60),We=n.n(Ge);var qe=function(){return Object(C.jsx)("div",{className:We.a.container,children:Object(C.jsx)("img",{src:Ke,alt:" "})})},ze=n(14),Ye=n(13),Je=n.n(Ye),Ve=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.loading(!0),Ee.post("/course/description",{courseName:this.props.state.courses.currentCourseName}).then((function(t){e.props.loading(!1),e.props.setCourseDescription(t.data)})).catch((function(t){e.props.loading(!1),console.log("user unauthorized"),console.log(t)}))}},{key:"render",value:function(){return console.log(""===this.props.state.courses.currentCourseName),""===this.props.state.courses.currentCourseName?Object(C.jsx)(ze.a,{to:"/courses/"}):Object(C.jsx)("div",{className:Je.a.container,children:this.props.state.isLoading.isLoading?Object(C.jsx)(qe,{}):Object(C.jsx)(He,{courseDescription:this.props.state.courses.courseDescription})})}}]),n}(r.a.Component),Ze=Object(j.b)((function(e){return{state:e}}),(function(e){return{loading:function(t){return e(_(t))},isAuth:function(t){return e(Le(t))},setCourseDescription:function(t){return e(function(e){return{type:J,value:e}}(t))}}}))(Ve),Qe=n(25),Xe=n(62),$e=n(4),et=n(39),tt=n.n(et),nt=n(5),st=n.n(nt);var rt=function(e){return Object(C.jsx)("div",{className:st.a.blockContainer,children:Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:st.a.blockName,children:e.stepName}),Object(C.jsx)("div",{className:st.a.blockContent,children:e.stepContent})]})})};var at=function(e){var t={type:"video",sources:[{src:"https://https://www.youtube.com/embed/"+(""!==e.stepContent?e.stepContent.split("=")[1].split("&")[0]:"7MJBeAyU1As"),provider:"youtube"}]};return Object(C.jsxs)("div",{className:st.a.videoContainer,children:[Object(C.jsx)("div",{className:st.a.blockName,children:e.stepName}),Object(C.jsx)("div",{className:st.a.blockVideo,children:Object(C.jsx)(Ue.a,{source:t})})]})};var ct=function(e){return Object(C.jsx)("div",{className:st.a.blockContainer,children:Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:st.a.blockName,children:e.stepName}),Object(C.jsx)("div",{className:st.a.imgContainer,children:Object(C.jsx)("img",{className:st.a.img,alt:"",src:e.stepContent})})]})})};var ot=function(e){return e.setButton(!0),Object(C.jsx)("div",{className:st.a.buttonContainer,children:Object(C.jsx)("div",{onClick:function(){e.onPageChanged()},className:st.a.button,children:"Continue"})})};var it=function(e){var t=Object(s.useState)(""),n=Object($e.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(""),o=Object($e.a)(c,2),i=o[0],u=o[1],l=Object(s.useState)(!1),j=Object($e.a)(l,2),d=j[0],p=j[1];function b(){return Object(C.jsx)("div",{children:e.stepContent.map((function(e){return Object(C.jsx)("div",{className:st.a.optionContainer,children:e.question==r?Object(C.jsx)("div",{onClick:function(){u(e.answer),a(e.question)},className:st.a.selected,children:e.question}):Object(C.jsx)("div",{onClick:function(){u(e.answer),a(e.question)},className:st.a.unselected,children:e.question})})}))})}return d||e.setBlock(!0),Object(C.jsx)("div",{className:st.a.blockContainer,children:Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:st.a.blockName,children:e.stepName}),Object(C.jsxs)("div",{className:st.a.sss,children:[d?Object(C.jsx)("div",{className:st.a.right,children:b()}):Object(C.jsx)("div",{className:st.a.not,children:b()}),Object(C.jsx)("div",{className:st.a.checkAnswerContainer,children:Object(C.jsx)("div",{className:st.a.checkAnswer,onClick:function(){!function(){if(i)p(!0),e.setBlock(!1)}()},children:"Check Right Answer"})})]})]})})};var ut=function(e,t){console.log("\u0412\u043d\u0443\u0442\u0440\u0438 API"),console.log(e),console.log(t),console.log("\u0412\u043d\u0443\u0442\u0440\u0438 API"),Ee.post("/course/steps",{courseName:e,lessonName:t}).then((function(e){console.log(e),Ie.dispatch($(e.data.steps))})).catch((function(e){console.log("req error"),console.log(e)}))};var lt=function(e){var t=Object(s.useState)([]),n=Object($e.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(0),o=Object($e.a)(c,2),i=o[0],u=o[1],l=Object(s.useState)(!0),j=Object($e.a)(l,2),d=j[0],p=j[1],b=Object(s.useState)(0),m=Object($e.a)(b,2),h=m[0],O=m[1],v=Object(s.useState)(!1),_=Object($e.a)(v,2),x=_[0],g=_[1],f=Object(s.useState)(!0),N=Object($e.a)(f,2),k=N[0],y=N[1],S=Object(s.useState)(!1),L=Object($e.a)(S,2),A=L[0],I=L[1],T=e.steps.length,E=Object(ze.g)();return Object(s.useEffect)((function(){if(k&&!d){var t=Be.a.parse(E.location.search);Ee.post("/course/lessons",{courseName:t.course_name}).then((function(t){e.setLessons(t.data.lessons)})),e.setCurrentCourseName(t.course_name),e.setCurrentLessonName(t.lesson_name),""!==t.course_name&&""!==t.lesson_name&&e.auth&&(ut(t.course_name,t.lesson_name),y(!1))}}),[e.auth,d,h]),Object(s.useEffect)((function(){if(e.currentCourseName&&e.currentLessonName){var t=Be.a.parse(E.location.search);t.course_name===e.currentCourseName&&t.lesson_name===e.currentLessonName||(y(!1),O(h+1),a([]),u(0),I(!1)),E.push({pathname:"/courses/lessons/steps",search:"?course_name="+e.currentCourseName+"&lesson_name="+e.currentLessonName})}y(!0),p(!1)}),[e.auth,e.currentLessonName]),Object(s.useEffect)((function(){if(e.steps.length>0&&i<=T){var t,n=E.location.search,s=Be.a.parse(n);Ee.post("/course/one-step",{courseName:s.course_name,lessonName:s.lesson_name,stepName:null===(t=e.steps[i])||void 0===t?void 0:t.stepName}).then((function(e){console.log(e);var t=!1;e.data.message&&(t=!0);var n=0;r.map((function(t){return t.stepName===e.data.stepName&&e.data.stepName&&n++,t})),0!==n||t||(a([].concat(Object(Xe.a)(r),[e.data])),u(i+1))})).catch((function(e){console.log(e)}))}})),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{id:"content",children:[r.map((function(e,t){return"Test"===e.stepType?Object(C.jsx)(it,{stepName:e.stepName,stepContent:e.stepContent,setBlock:I},t):"Img"===e.stepType?Object(C.jsx)(ct,{stepName:e.stepName,stepContent:e.stepContent},t):"Text"===e.stepType?Object(C.jsx)(rt,{stepName:e.stepName,stepContent:e.stepContent},t):"Video"===e.stepType?Object(C.jsx)(at,{stepName:e.stepName,stepContent:e.stepContent},t):e})),0===T||!(T===i||T<i)||x||A?Object(C.jsx)("div",{}):Object(C.jsx)(ot,{onPageChanged:e.onPageChanged,setButton:function(){return g}})]})})},jt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(){if(e.props.state.courses.currentLessonNumber!==e.props.state.courses.lessons.length-1){var t,n,s,r,a,c,o,i,u;if(null===(t=Object(Qe.a)(e))||void 0===t||null===(n=t.props)||void 0===n||null===(s=n.state)||void 0===s||null===(r=s.courses)||void 0===r?void 0:r.lessons)null===(c=Object(Qe.a)(e))||void 0===c||null===(o=c.props)||void 0===o||null===(i=o.state)||void 0===i||null===(u=i.courses)||void 0===u||u.lessons.map((function(t,n){t.lessonName===e.props.state.courses.currentLessonName&&(a=n+1)}));e.props.setCurrentLessonName(e.props.state.courses.lessons[a].lessonName)}},e}return Object(i.a)(n,[{key:"shouldComponentUpdate",value:function(e){var t,n,s,r,a,c,o,i,u,l,j,d;return(null===(t=this.props.state)||void 0===t||null===(n=t.courses)||void 0===n?void 0:n.steps[0])!==(null===(s=e.state)||void 0===s||null===(r=s.courses)||void 0===r?void 0:r.steps[0])||(null===(a=this.props.state)||void 0===a||null===(c=a.courses)||void 0===c?void 0:c.currentLessonName)!==(null===(o=e.state)||void 0===o||null===(i=o.courses)||void 0===i?void 0:i.steps[0])||(null===(u=this.props.state)||void 0===u||null===(l=u.courses)||void 0===l?void 0:l.currentLessonNumber)!==(null===(j=e.state)||void 0===j||null===(d=j.courses)||void 0===d?void 0:d.currentLessonNumber)}},{key:"render",value:function(){return console.log("\u0412\u042b\u0417\u0412\u0410\u041b\u0421\u042f \u0420\u0415\u0420\u0415\u041d\u0414\u0415\u0420"),Object(C.jsx)("div",{className:tt.a.container,children:this.props.state.isLoading.isLoading?Object(C.jsx)(qe,{}):Object(C.jsx)(lt,{setSteps:this.props.setSteps,setCurrentLessonName:this.props.setCurrentLessonName,setCurrentCourseName:this.props.setCurrentCourseName,setCurrentLessonNumber:this.props.setCurrentLessonNumber,setLessons:this.props.setLessons,onPageChanged:this.onPageChanged,lessons:this.props.state.courses.lessons,currentCourseName:this.props.state.courses.currentCourseName,currentLessonName:this.props.state.courses.currentLessonName,currentLessonNumber:this.props.state.courses.currentLessonNumber,steps:this.props.state.courses.steps,auth:this.props.state.user.isAuth})})}}]),n}(r.a.Component),dt=Object(j.b)((function(e){return{state:e}}),(function(e){return{loading:function(t){return e(_(t))},isAuth:function(t){return e(Le(t))},setLessons:function(t){return e(te(t))},setSteps:function(t){return e($(t))},setCurrentCourseName:function(t){return e(ne(t))},setCurrentLessonName:function(t){return e(ee(t))},setCurrentLessonNumber:function(t){return e(function(e){return{type:Z,value:e}}(t))}}}))(jt),pt=n(2),bt=n.n(pt);n.p;var mt=n.p+"static/media/relax.ebc855a3.svg";var ht=function(e){var t=Object(s.useState)(""),n=Object($e.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(""),o=Object($e.a)(c,2),i=o[0],u=o[1],l=Object(s.useState)(""),j=Object($e.a)(l,2),d=j[0],p=j[1];return Object(C.jsxs)("div",{className:bt.a.container,children:[Object(C.jsx)("div",{children:Object(C.jsx)("div",{className:bt.a.container,children:Object(C.jsxs)("div",{className:bt.a.customContainer,children:[Object(C.jsx)("div",{className:bt.a.login_container,children:Object(C.jsxs)("div",{className:bt.a.registration,children:[Object(C.jsx)("div",{className:bt.a.title,children:"Create your profile"}),e.wrongAuth?Object(C.jsx)("div",{className:bt.a.wrongAuth,children:"Email or username is already registrated"}):Object(C.jsx)("div",{}),Object(C.jsxs)("div",{className:bt.a.input,children:[Object(C.jsx)("div",{className:bt.a.inputContainer,children:Object(C.jsx)("div",{className:bt.a.customInput,children:Object(C.jsx)("input",{value:r,onInput:function(e){return a(e.target.value)},type:"text",placeholder:"Username"})})}),Object(C.jsx)("div",{className:bt.a.inputContainer,children:Object(C.jsx)("div",{className:bt.a.customInput,children:Object(C.jsx)("input",{value:i,onInput:function(e){return u(e.target.value)},type:"text",placeholder:"Email"})})}),Object(C.jsx)("div",{className:bt.a.inputContainer,children:Object(C.jsx)("div",{className:bt.a.customInput,children:Object(C.jsx)("input",{value:d,onInput:function(e){return p(e.target.value)},type:"text",placeholder:"Password"})})}),Object(C.jsx)("div",{className:bt.a.buttonContainer,children:Object(C.jsx)("button",{onClick:function(){e.registration({email:i,username:r,password:d})},className:bt.a.button,children:"Registration"})}),Object(C.jsxs)("div",{className:bt.a.link,children:[Object(C.jsx)("div",{children:"Already have an account?"}),Object(C.jsx)(N.c,{style:function(e){return{color:e.isActive?"var(--color-active)":"black"}},to:"/",children:Object(C.jsx)("div",{className:bt.a.linkClick,children:" Sign-In?"})})]})]})]})}),Object(C.jsx)("div",{})]})})}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:bt.a.img,src:mt,alt:""})})]})},Ot=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).registration=function(t){var n=t.username,s=t.password,r=t.email;e.props.loading(!0),e.props.setWrongAuth(!1),Ee.post("/registration",{email:r,password:s,username:n}).then((function(t){console.log(t),localStorage.setItem("client_secret",t.data.client_secret),e.props.setClientSecret(t.data.client_secret)})).finally((function(){e.props.loading(!1)})).catch((function(t){e.props.setWrongAuth(!0),e.props.loading(!1),console.log(t)}))},e}return Object(i.a)(n,[{key:"render",value:function(){return""!==this.props.state.user.client_secret?Object(C.jsx)(ze.a,{to:"/payment"}):Object(C.jsx)("div",{children:this.props.state.isLoading.isLoading?Object(C.jsx)(qe,{}):Object(C.jsx)(ht,{wrongAuth:this.props.state.isLoading.wrongAuth,state:this.props.state,registration:this.registration})})}}]),n}(r.a.Component),vt=Object(j.b)((function(e){return{state:e}}),(function(e){return{setUser:function(t){return e(Se(t))},loading:function(t){return e(_(t))},setStatusCode:function(t){return e(function(e){return{type:b,value:e}}(t))},setClientSecret:function(t){return e(function(e){return{type:fe,value:e}}(t))},setWrongAuth:function(t){return e(v(t))}}}))(Ot);var _t=function(e){var t=Object(s.useState)(""),n=Object($e.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(""),o=Object($e.a)(c,2),i=o[0],u=o[1];return console.log(e.wrongAuth),Object(C.jsxs)("div",{className:bt.a.container,children:[Object(C.jsxs)("div",{className:bt.a.customContainer,children:[Object(C.jsx)("div",{className:bt.a.login_container,children:Object(C.jsxs)("div",{className:bt.a.registration,children:[Object(C.jsx)("div",{className:bt.a.title,children:"Enter your profile"}),e.wrongAuth?Object(C.jsx)("div",{children:"Wrong email or password"}):Object(C.jsx)("div",{}),Object(C.jsxs)("div",{className:bt.a.input,children:[Object(C.jsx)("div",{className:bt.a.inputContainer,children:Object(C.jsx)("div",{className:bt.a.customInput,children:Object(C.jsx)("input",{value:r,onInput:function(e){return a(e.target.value)},type:"text",placeholder:"Email"})})}),Object(C.jsx)("div",{className:bt.a.inputContainer,children:Object(C.jsx)("div",{className:bt.a.customInput,children:Object(C.jsx)("input",{value:i,onInput:function(e){return u(e.target.value)},type:"text",placeholder:"Password"})})}),Object(C.jsx)("div",{className:bt.a.buttonContainer,children:Object(C.jsx)("button",{onClick:function(){e.login({email:r,password:i})},className:bt.a.button,children:"Login"})}),Object(C.jsxs)("div",{className:bt.a.link,children:[Object(C.jsx)("div",{children:"Don't have a profile yet?"}),Object(C.jsx)(N.c,{style:function(e){return{color:e.isActive?"var(--color-active)":"black"}},to:"/auth/registration",children:Object(C.jsx)("div",{className:bt.a.linkClick,children:" Register now"})})]})]})]})}),Object(C.jsx)("div",{})]}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:bt.a.img,src:mt,alt:""})})]})},xt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).login=function(t){var n=t.password,s=t.email;e.props.loading(!0),Ee.post("/login",{email:s,password:n}).then((function(t){console.log(t);var n={token:t.data.accessToken,username:t.data.user.username,_id:t.data.user.id,role:t.data.user.roles,isAuth:!0};e.props.setUser(n),e.props.loading(!1),localStorage.setItem("username",n.username),localStorage.setItem("isAuth",n.isAuth),e.props.isAuth(!0),localStorage.setItem("token",t.data.accessToken)})).catch((function(t){e.props.setWrongAuth(!0),e.props.loading(!1),console.log("wrong auth"),console.log(t)}))},e}return Object(i.a)(n,[{key:"render",value:function(){return!0===this.props.state.user.isAuth?this.props.state.user.role[1]&&"ADMIN"===this.props.state.user.role[1]?Object(C.jsx)(ze.a,{to:"/admin"}):Object(C.jsx)(ze.a,{to:"/courses"}):Object(C.jsx)("div",{children:this.props.state.isLoading.isLoading?Object(C.jsx)(qe,{}):Object(C.jsx)(_t,{wrongAuth:this.props.state.isLoading.wrongAuth,state:this.props.state,login:this.login})})}}]),n}(r.a.Component),gt=Object(j.b)((function(e){return{state:e}}),(function(e){return{setUser:function(t){return e(Se(t))},loading:function(t){return e(_(t))},isAuth:function(t){return e(Le(t))},setWrongAuth:function(t){return e(v(t))}}}))(xt),ft=n.p+"static/media/marketing.c28734b9.svg";var Nt=function(e){return""!==e.userCourses?Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:Je.a.introduction,children:[localStorage.getItem("username")+", great day to learn something new!",Object(C.jsx)("div",{className:Je.a.subIntroduction,children:"Available courses:"})]})}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{className:Je.a.coursesContainer,children:e.userCourses.map((function(t){return Object(C.jsxs)("div",{className:Je.a.courseName,children:[Object(C.jsx)(N.c,{style:function(e){return{color:e.isActive?"var(--color-active)":"white"}},to:"/courses/description",onClick:function(){e.setCurrentCourseName(t.courseName)},children:Object(C.jsx)("div",{className:Je.a.content,children:t.courseName})}),Object(C.jsx)("div",{className:Je.a.img,children:Object(C.jsx)("img",{alt:"",src:t.svgImage})})]},t._id)}))}),Object(C.jsx)("div",{className:Je.a.coming,children:Object(C.jsx)("div",{className:Je.a.comingContent,children:Object(C.jsx)("div",{className:Je.a.coming_soon,children:"Coming soon..."})})}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:Je.a.menuImage,src:ft,alt:""})})]}):Object(C.jsx)("div",{children:"Something went wrong"})},Ct=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.loading(!0),console.log("zapros"),Ee.get("/course/all").then((function(t){e.props.loading(!1),e.props.setCourses(t.data)})).catch((function(t){e.props.loading(!1),console.log("user unauthorized"),console.log(t)}))}},{key:"render",value:function(){return Object(C.jsx)("div",{className:Je.a.container,children:this.props.state.isLoading.isLoading?Object(C.jsx)(qe,{}):Object(C.jsx)(Nt,{userCourses:this.props.state.courses.userCourses,loading:this.props.loading,username:this.props.state.user.username,setCurrentCourseName:this.props.setCurrentCourseName})})}}]),n}(r.a.Component),kt=Object(j.b)((function(e){return{state:e}}),(function(e){return{loading:function(t){return e(_(t))},isAuth:function(t){return e(Le(t))},setCourses:function(t){return e(re(t))},setCurrentCourseName:function(t){return e(ne(t))}}}))(Ct),yt=n(12),St=n.n(yt);var Lt=function(e){var t=Object(s.useState)(""),n=Object($e.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(""),o=Object($e.a)(c,2),i=o[0],u=o[1],l=Object(s.useState)(""),j=Object($e.a)(l,2),d=j[0],p=j[1];return e.updateCourse({stepTitle:r,stepType:i,stepContent:d,id:e.id}),Object(C.jsxs)("div",{className:St.a.steps,children:[Object(C.jsx)("div",{children:"Steps:"}),Object(C.jsxs)("div",{className:St.a.oneStep,children:[Object(C.jsxs)("div",{className:St.a.stepTitle,children:[Object(C.jsx)("div",{className:St.a.text,children:"Title:"}),Object(C.jsx)("div",{className:St.a.customInput,children:Object(C.jsx)("input",{value:r,onInput:function(e){return a(e.target.value)},type:"text",placeholder:"Step Title",name:""})})]}),Object(C.jsxs)("div",{className:St.a.stepTitle,children:[Object(C.jsx)("div",{className:St.a.text,children:"Type: "}),Object(C.jsx)("div",{className:St.a.type,children:Object(C.jsxs)("select",{className:St.a.select,value:i,onChange:function(e){return u(e.target.value)},children:[Object(C.jsx)("option",{selected:!0,value:"Text",children:"Text"}),Object(C.jsx)("option",{value:"Text",children:"Video"}),Object(C.jsx)("option",{value:"Text",children:"Test"})]})})]}),Object(C.jsxs)("div",{className:St.a.stepTitle,children:[Object(C.jsx)("div",{className:St.a.text,children:"Content: "}),Object(C.jsx)("div",{children:Object(C.jsx)("textarea",{className:St.a.textarea,value:d,onChange:function(e){return p(e.target.value)}})})]})]})]})};var At=function(e){var t=Object(s.useState)(""),n=Object($e.a)(t,2),r=n[0],a=n[1];return Object(C.jsxs)("div",{className:St.a.container,children:[Object(C.jsx)("div",{className:St.a.admin,children:"Admin Page"}),Object(C.jsx)("div",{className:St.a.newContainer,children:Object(C.jsxs)("div",{className:St.a.title,children:[Object(C.jsx)("div",{className:St.a.text,children:"Course Title:"}),Object(C.jsx)("div",{className:St.a.inputContainer,children:Object(C.jsx)("div",{className:St.a.customInput,children:Object(C.jsx)("input",{value:r,onInput:function(e){return a(e.target.value)},type:"text",placeholder:"Course Title",name:""})})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:"Lesson title:"}),Object(C.jsx)("div",{children:e.stepsLength.map((function(t){return Object(C.jsx)("div",{name:t.toString(),children:Object(C.jsx)(Lt,{updateCourse:e.updateCourse,id:t})},t.toString())}))}),Object(C.jsx)("div",{className:St.a.buttonContainer,children:Object(C.jsx)("button",{className:St.a.button,onClick:function(){return e.change()},children:"Add Step"})})]})]})}),Object(C.jsx)("button",{className:St.a.button,onClick:function(){e.createCourse({courseName:r})},children:"Create Course"})]})},It=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).change=function(){e.props.addStep(e.props.state.courses.stepsLength.length)},e.createCourse=function(t){e.props.loading(!0);var n={courseName:t.courseName,steps:e.props.state.courses.courses,id:e.props.state.user._id};Ee.post("/admin/course/create",n).then((function(t){console.log(t),e.props.loading(!1)})).catch((function(t){e.props.loading(!1),console.log(t)}))},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{children:this.props.state.isLoading.isLoading?Object(C.jsx)(qe,{}):Object(C.jsx)("div",{children:Object(C.jsx)(At,{state:this.props.state,loading:this.props.loading,change:this.change,courses:this.props.state.courses.courses,stepsLength:this.props.state.courses.stepsLength,updateCourse:this.props.updateCourse,createCourse:this.createCourse})})})}}]),n}(r.a.Component),Tt=Object(j.b)((function(e){return{state:e}}),(function(e){return{loading:function(t){return e(_(t))},setCourses:function(t){return e(re(t))},addStep:function(t){return e(function(e){return{type:w,value:e}}(t))},updateCourse:function(t){return e(function(e){return{type:R,value:e}}(t))},setCourseTitle:function(t){return e(function(e){return{type:U,value:e}}(t))}}}))(It);var Et=function(e){return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:Je.a.introduction,children:[localStorage.getItem("username")+", great day to learn something new!",Object(C.jsx)("div",{className:Je.a.subIntroduction,children:"Choose lesson"})]})}),Object(C.jsx)("div",{}),Object(C.jsx)("div",{children:e.lessons?e.lessons.map((function(t){return Object(C.jsx)("div",{className:Je.a.courseName,children:Object(C.jsx)("div",{onClick:function(){e.setCurrentLessonName(t.lessonName)},children:Object(C.jsx)(N.b,{to:"/courses/lessons/steps",children:Object(C.jsx)("div",{className:Je.a.content,children:t.lessonName})})})},t._id)})):Object(C.jsx)("div",{children:"\u041f\u0440\u0438\u0432\u0435\u0442"})})]})},wt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.loading(!0),Ee.post("/course/lessons",{courseName:this.props.state.courses.currentCourseName}).then((function(t){e.props.loading(!1),e.props.setLessons(t.data.lessons)})).catch((function(t){e.props.loading(!1),console.log("user unauthorized"),console.log(t)}))}},{key:"render",value:function(){return""===this.props.state.courses.currentCourseName?Object(C.jsx)(ze.a,{to:"/courses"}):Object(C.jsx)("div",{className:Je.a.container,children:this.props.state.isLoading.isLoading?Object(C.jsx)(qe,{}):Object(C.jsx)(Et,{courseName:this.props.state.courses.courseName,username:this.props.state.user.username,lessons:this.props.state.courses.lessons,setCurrentLessonName:this.props.setCurrentLessonName,setSteps:this.props.setSteps})})}}]),n}(r.a.Component),Pt=Object(j.b)((function(e){return{state:e}}),(function(e){return{loading:function(t){return e(_(t))},isAuth:function(t){return e(Le(t))},setCourses:function(t){return e(re(t))},setLessons:function(t){return e(te(t))},setCurrentLessonName:function(t){return e(ee(t))},setSteps:function(t){return e($(t))}}}))(wt);n(118);var Rt=function(e){var t=Object(s.useState)(e.username),n=Object($e.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(e.city),o=Object($e.a)(c,2),i=o[0],u=o[1],l=Object(s.useState)(e.phoneNumber),j=Object($e.a)(l,2),d=j[0],p=j[1],b=Object(s.useState)(e.birthday),m=Object($e.a)(b,2),h=m[0],O=m[1],v=Object(s.useState)(e.linkFacebook),_=Object($e.a)(v,2),x=_[0],g=_[1],f=Object(s.useState)(e.linkLinkedIn),N=Object($e.a)(f,2),k=N[0],y=N[1],S=Object(s.useState)(e.linkInstagram),L=Object($e.a)(S,2),A=L[0],I=L[1];return Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:bt.a.container,children:[Object(C.jsxs)("div",{className:bt.a.customContainer,children:[Object(C.jsx)("div",{className:bt.a.login_container,children:Object(C.jsxs)("div",{className:bt.a.registration,children:[Object(C.jsx)("div",{className:bt.a.title,children:"Profile"}),Object(C.jsxs)("div",{className:bt.a.input,children:[Object(C.jsx)("div",{children:"Username"}),Object(C.jsx)("div",{className:bt.a.inputContainer,children:Object(C.jsx)("div",{className:bt.a.customInput,children:Object(C.jsx)("input",{value:r,onInput:function(e){return a(e.target.value)},type:"text"})})})]}),Object(C.jsxs)("div",{className:bt.a.input,children:[Object(C.jsx)("div",{children:"City"}),Object(C.jsx)("div",{className:bt.a.inputContainer,children:Object(C.jsx)("div",{className:bt.a.customInput,children:Object(C.jsx)("input",{value:i,onInput:function(e){return u(e.target.value)},type:"text"})})})]}),Object(C.jsxs)("div",{className:bt.a.input,children:[Object(C.jsx)("div",{children:"Phone Number"}),Object(C.jsx)("div",{className:bt.a.inputContainer,children:Object(C.jsx)("div",{className:bt.a.customInput,children:Object(C.jsx)("input",{value:d,onInput:function(e){return p(e.target.value)},type:"text"})})})]}),Object(C.jsxs)("div",{className:bt.a.input,children:[Object(C.jsx)("div",{children:"Birthday"}),Object(C.jsx)("div",{className:bt.a.inputContainer,children:Object(C.jsx)("div",{className:bt.a.customInput,children:Object(C.jsx)("input",{value:h,onInput:function(e){return O(e.target.value)},type:"text"})})})]}),Object(C.jsxs)("div",{className:bt.a.input,children:[Object(C.jsx)("div",{children:"Link to Facebook"}),Object(C.jsx)("div",{className:bt.a.inputContainer,children:Object(C.jsx)("div",{className:bt.a.customInput,children:Object(C.jsx)("input",{value:x,onInput:function(e){return g(e.target.value)},type:"text"})})})]}),Object(C.jsxs)("div",{className:bt.a.input,children:[Object(C.jsx)("div",{children:"Link to LinkedIn"}),Object(C.jsx)("div",{className:bt.a.inputContainer,children:Object(C.jsx)("div",{className:bt.a.customInput,children:Object(C.jsx)("input",{value:k,onInput:function(e){return y(e.target.value)},type:"text"})})})]}),Object(C.jsxs)("div",{className:bt.a.input,children:[Object(C.jsx)("div",{children:"Link to Instagram"}),Object(C.jsx)("div",{className:bt.a.inputContainer,children:Object(C.jsx)("div",{className:bt.a.customInput,children:Object(C.jsx)("input",{value:A,onInput:function(e){return I(e.target.value)},type:"text"})})})]}),Object(C.jsx)("div",{className:bt.a.buttonContainer,children:Object(C.jsx)("button",{onClick:function(){e.saveChanges({})},className:bt.a.button,children:"Save Changes"})})]})}),Object(C.jsx)("div",{})]}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:bt.a.img,src:mt,alt:""})})]})})},Dt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).saveChanges=function(){},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;_(!0),Ee.post("/user-information").then((function(t){var n,s,r,a,c,o;(null===(n=t.data)||void 0===n?void 0:n.birthday)&&e.props.setBirthday(t.data.birthday),(null===(s=t.data)||void 0===s?void 0:s.phoneNumber)&&e.props.setPhoneNumber(t.data.phoneNumber),(null===(r=t.data)||void 0===r?void 0:r.city)&&e.props.setCity(t.data.city),(null===(a=t.data)||void 0===a?void 0:a.linkFacebook)&&e.props.setLinkFacebook(t.data.linkFacebook),(null===(c=t.data)||void 0===c?void 0:c.linkLinkedIn)&&e.props.setLinkLinkedIn(t.data.linkLinkedIn),(null===(o=t.data)||void 0===o?void 0:o.linkInstagram)&&e.props.setLinkInstagram(t.data.linkInstagram)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(C.jsx)(Rt,{username:this.props.state.user.username,birthday:this.props.state.user.birthday,phoneNumber:this.props.state.user.phoneNumber,city:this.props.state.user.city,linkFacebook:this.props.state.user.linkFacebook,linkLinkedIn:this.props.state.user.linkLinkedIn,linkInstagram:this.props.state.user.linkInstagram})}}]),n}(r.a.Component),Ut=Object(j.b)((function(e){return{state:e}}),(function(e){return{loading:function(t){return e(_(t))},setBirthday:function(t){return e(function(e){return{type:he,value:e}}(t))},setPhoneNumber:function(t){return e(function(e){return{type:Oe,value:e}}(t))},setCity:function(t){return e(function(e){return{type:ve,value:e}}(t))},setLinkFacebook:function(t){return e(function(e){return{type:ge,value:e}}(t))},setLinkLinkedIn:function(t){return e(function(e){return{type:xe,value:e}}(t))},setLinkInstagram:function(t){return e(function(e){return{type:_e,value:e}}(t))}}}))(Dt),Mt=n(61),Ft=n(24);function Bt(){var e=Object(Ft.useStripe)(),t=Object(Ft.useElements)(),n=Object(s.useState)(null),r=Object($e.a)(n,2),a=r[0],c=r[1],o=Object(s.useState)(!1),i=Object($e.a)(o,2),u=i[0],l=i[1];Object(s.useEffect)((function(){if(e){var t=new URLSearchParams(window.location.search).get("payment_intent_client_secret");t&&e.retrievePaymentIntent(t).then((function(e){var t=e.paymentIntent;switch(console.log("Im here"),t.status){case"succeeded":c("Payment succeeded!"),Ee.post("/create-payment-intent/activate-user",localStorage.getItem("client_secret")).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));break;case"processing":c("Your payment is processing.");break;case"requires_payment_method":c("Your payment was not successful, please try again.");break;default:c("Something went wrong.")}}))}}),[e]);var j=function(){var n=Object(le.a)(ue.a.mark((function n(s){var r,a;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.preventDefault(),e&&t){n.next=3;break}return n.abrupt("return");case 3:return l(!0),n.next=6,e.confirmPayment({elements:t,confirmParams:{return_url:"http://localhost:3000"}});case 6:r=n.sent,"card_error"===(a=r.error).type||"validation_error"===a.type?c(a.message):c("An unexpected error occured."),l(!1);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(C.jsxs)("form",{id:"payment-form",onSubmit:j,children:[Object(C.jsx)(Ft.PaymentElement,{id:"payment-element"}),Object(C.jsx)("button",{disabled:u||!e||!t,id:"submit",children:Object(C.jsx)("span",{id:"button-text",children:u?Object(C.jsx)("div",{className:"spinner",id:"spinner"}):"Pay now"})}),a&&Object(C.jsx)("div",{id:"payment-message",children:a})]})}n(119);var Ht=Object(Mt.a)("pk_test_51KRcjgF95E6xGFpDKlYkxIoVMeQKAkNQ93qXu9tBJIrv3PqQ4oQD6PfG9Bb9xJtRSYf3hL4olUhAlk9JcGdtdMK1004ps5RQvv");function Kt(e){var t=Object(s.useState)(""),n=Object($e.a)(t,2),r=n[0],a=n[1];Object(s.useEffect)((function(){a(e.client_secret)})),Object(s.useEffect)((function(){}),[]);var c={clientSecret:r,appearance:{theme:"stripe"}};return Object(C.jsx)("div",{className:"App",children:r&&Object(C.jsx)(Ft.Elements,{options:c,stripe:Ht,children:Object(C.jsx)(Bt,{})})})}var Gt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(C.jsx)(Kt,{client_secret:this.props.state.user.client_secret})}}]),n}(r.a.Component),Wt=Object(j.b)((function(e){return{state:e}}))(Gt);var qt=function(){return Object(s.useEffect)((function(){var e;localStorage.getItem("username")&&(Ie.dispatch(Le(localStorage.getItem("isAuth"))),Ie.dispatch((e=localStorage.getItem("username"),{type:Ce,value:e})))}),[localStorage]),Object(C.jsx)("div",{className:"container",children:Object(C.jsxs)(N.a,{children:[Object(C.jsx)(S,{}),Object(C.jsxs)(ze.d,{children:[Object(C.jsx)(ze.b,{exact:!0,path:"/auth/registration",render:function(){return Object(C.jsx)(vt,{})}}),Object(C.jsx)(ze.b,{exact:!0,path:"/",render:function(){return Object(C.jsx)(gt,{})}}),Object(C.jsx)(ze.b,{exact:!0,path:"/courses",render:function(){return Object(C.jsx)(kt,{})}}),Object(C.jsx)(ze.b,{exact:!0,path:"/admin",render:function(){return Object(C.jsx)(Tt,{})}}),Object(C.jsx)(ze.b,{exact:!0,path:"/courses/description/",render:function(){return Object(C.jsx)(Ze,{})}}),Object(C.jsx)(ze.b,{exact:!0,path:"/courses/lessons/steps",render:function(){return Object(C.jsx)(dt,{})}}),Object(C.jsx)(ze.b,{exact:!0,path:"/courses/lessons",render:function(){return Object(C.jsx)(Pt,{})}}),Object(C.jsx)(ze.b,{exact:!0,path:"/profile",render:function(){return Object(C.jsx)(Ut,{})}}),Object(C.jsx)(ze.b,{exact:!0,path:"/payment",render:function(){return Object(C.jsx)(Wt,{})}}),Object(C.jsx)(ze.a,{to:"/"})]}),Object(C.jsx)(oe,{})]})})},zt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,121)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))};c.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(j.a,{store:Ie,children:Object(C.jsx)(qt,{})})}),document.getElementById("root")),zt()},13:function(e,t,n){e.exports={container:"Courses_container__3eWzH",comingContent:"Courses_comingContent__1u7nD",menuImage:"Courses_menuImage__1wZC5",content:"Courses_content__7z3xT",coursesContainer:"Courses_coursesContainer__3Uyi5",courseName:"Courses_courseName__3E4Cd",img:"Courses_img__1Yy3B",personalTitle:"Courses_personalTitle__3zvWP",personalStep:"Courses_personalStep__2AqmI",pagesCount:"Courses_pagesCount__1BL9n",page:"Courses_page__1bU5P",selected:"Courses_selected__1zZeM",stepTitle:"Courses_stepTitle__3goB6",video:"Courses_video__3tC0_",arrow:"Courses_arrow__3KH1_",imgArrow:"Courses_imgArrow__3t419",contentContainer:"Courses_contentContainer__1VDtD",passedPage:"Courses_passedPage__KUmSN",unpassedPage:"Courses_unpassedPage__38Xeh",introduction:"Courses_introduction__2FuNZ",subIntroduction:"Courses_subIntroduction__2QL6j",coming_soon:"Courses_coming_soon__3L3Fe"}},15:function(e,t,n){e.exports={buttons:"Main_buttons__dgjNh",profileImg:"Main_profileImg__3eJxx",button:"Main_button__3G2kC",name_main:"Main_name_main__1p2VE",title:"Main_title__2hlvY",profile_main:"Main_profile_main__26RWz",img:"Main_img__3fYUO",text:"Main_text__1JhJw",nickName:"Main_nickName__3Ix9w",greetings:"Main_greetings__1pKr0",Nav:"Main_Nav__OiIX-",lesson:"Main_lesson__38tjt",currentCourseName:"Main_currentCourseName__2kdxn",selected:"Main_selected__2AnbC",username:"Main_username__38Bq6"}},19:function(e,t,n){e.exports={container:"CourseDescription_container__2LaRp",blocksContainer:"CourseDescription_blocksContainer__2jh5c",courseName:"CourseDescription_courseName__1tmZy",courseNameContainer:"CourseDescription_courseNameContainer__2LphD",buttonContainer:"CourseDescription_buttonContainer__pNSGF",button:"CourseDescription_button__1ehV-",imageContainer:"CourseDescription_imageContainer__21leT",img:"CourseDescription_img__uuk9g"}},2:function(e,t,n){e.exports={container:"Authentication_container__1Jnvd",wrongAuth:"Authentication_wrongAuth__w-7ss",img:"Authentication_img__wEoPM",customContainer:"Authentication_customContainer__iLxox",registration:"Authentication_registration__3MiE7",input:"Authentication_input__3tZaa",button:"Authentication_button__1AKaG",buttonContainer:"Authentication_buttonContainer__2Zc2D",customInput:"Authentication_customInput__3_px1",inputContent:"Authentication_inputContent__1ibu3",link:"Authentication_link__1tRFB",linkClick:"Authentication_linkClick__3FV-C",title:"Authentication_title__r72Eu",inputContainer:"Authentication_inputContainer__YWPAm",emailContainer:"Authentication_emailContainer__1-ezj",text:"Authentication_text__2HtYP",icon:"Authentication_icon__30m-a",login_container:"Authentication_login_container__3zDaV"}},20:function(e,t,n){e.exports={profile_header:"Header_profile_header__1eKit",workspace_header:"Header_workspace_header__19D2w",name_header:"Header_name_header__1hxPH",title:"Header_title__3Hzey"}},21:function(e,t,n){e.exports={blockContainer:"types_blockContainer__w51DF",blockName:"types_blockName__1_EsU",blockContent:"types_blockContent__3AXGr"}},39:function(e,t,n){e.exports={container:"CoursesSteps_container__saUZo"}},5:function(e,t,n){e.exports={blockContainer:"types_blockContainer__1JHb6",blockName:"types_blockName__1HocT",blockContent:"types_blockContent__2aG3n",img:"types_img__2v4be",blockVideo:"types_blockVideo__1_OPB",videoContainer:"types_videoContainer__3wWh3",buttonContainer:"types_buttonContainer__2NKvZ",button:"types_button__3Ni_K",checkAnswerContainer:"types_checkAnswerContainer__217hn",checkAnswer:"types_checkAnswer__7fETA",optionContainer:"types_optionContainer__1vYUP",selected:"types_selected__3EnUO",right:"types_right__37IEO",not:"types_not__1N54u",sss:"types_sss__1oy_8"}},60:function(e,t,n){e.exports={container:"Preloader_container__1HUFi"}},67:function(e,t,n){}},[[120,1,2]]]);
//# sourceMappingURL=main.23b7da63.chunk.js.map