(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[0],{12:function(e,t,n){e.exports={container:"Courses_container__1HEAl",title:"Courses_title__FDnh9",text:"Courses_text__2zqMU",customInput:"Courses_customInput__1pgew",buttonContainer:"Courses_buttonContainer__kWFoR",button:"Courses_button__1vf3f",steps:"Courses_steps__ToKOZ",oneStep:"Courses_oneStep__7W3m0",stepTitle:"Courses_stepTitle__xRm3s",select:"Courses_select__1gT6j",textarea:"Courses_textarea__24LSC",admin:"Courses_admin__26BdT"}},13:function(e,t,n){e.exports={container:"Courses_container__3eWzH",comingContent:"Courses_comingContent__1u7nD",menuImage:"Courses_menuImage__1wZC5",content:"Courses_content__7z3xT",coursesContainer:"Courses_coursesContainer__3Uyi5",courseName:"Courses_courseName__3E4Cd",img:"Courses_img__1Yy3B",personalTitle:"Courses_personalTitle__3zvWP",personalStep:"Courses_personalStep__2AqmI",pagesCount:"Courses_pagesCount__1BL9n",page:"Courses_page__1bU5P",selected:"Courses_selected__1zZeM",stepTitle:"Courses_stepTitle__3goB6",video:"Courses_video__3tC0_",arrow:"Courses_arrow__3KH1_",imgArrow:"Courses_imgArrow__3t419",contentContainer:"Courses_contentContainer__1VDtD",passedPage:"Courses_passedPage__KUmSN",unpassedPage:"Courses_unpassedPage__38Xeh",introduction:"Courses_introduction__2FuNZ",subIntroduction:"Courses_subIntroduction__2QL6j",coming_soon:"Courses_coming_soon__3L3Fe"}},15:function(e,t,n){e.exports={buttons:"Main_buttons__dgjNh",profileImg:"Main_profileImg__3eJxx",button:"Main_button__3G2kC",name_main:"Main_name_main__1p2VE",title:"Main_title__2hlvY",profile_main:"Main_profile_main__26RWz",img:"Main_img__3fYUO",text:"Main_text__1JhJw",nickName:"Main_nickName__3Ix9w",greetings:"Main_greetings__1pKr0",Nav:"Main_Nav__OiIX-",lesson:"Main_lesson__38tjt",currentCourseName:"Main_currentCourseName__2kdxn",selected:"Main_selected__2AnbC",username:"Main_username__38Bq6"}},19:function(e,t,n){e.exports={container:"CourseDescription_container__2LaRp",blocksContainer:"CourseDescription_blocksContainer__2jh5c",courseName:"CourseDescription_courseName__1tmZy",courseNameContainer:"CourseDescription_courseNameContainer__2LphD",buttonContainer:"CourseDescription_buttonContainer__pNSGF",button:"CourseDescription_button__1ehV-",imageContainer:"CourseDescription_imageContainer__21leT",img:"CourseDescription_img__uuk9g"}},2:function(e,t,n){e.exports={container:"Authentication_container__1Jnvd",img:"Authentication_img__wEoPM",customContainer:"Authentication_customContainer__iLxox",registration:"Authentication_registration__3MiE7",input:"Authentication_input__3tZaa",button:"Authentication_button__1AKaG",buttonContainer:"Authentication_buttonContainer__2Zc2D",customInput:"Authentication_customInput__3_px1",inputContent:"Authentication_inputContent__1ibu3",link:"Authentication_link__1tRFB",linkClick:"Authentication_linkClick__3FV-C",title:"Authentication_title__r72Eu",inputContainer:"Authentication_inputContainer__YWPAm",emailContainer:"Authentication_emailContainer__1-ezj",text:"Authentication_text__2HtYP",icon:"Authentication_icon__30m-a",login_container:"Authentication_login_container__3zDaV"}},20:function(e,t,n){e.exports={profile_header:"Header_profile_header__1eKit",workspace_header:"Header_workspace_header__19D2w",name_header:"Header_name_header__1hxPH",title:"Header_title__3Hzey"}},21:function(e,t,n){e.exports={blockContainer:"types_blockContainer__w51DF",blockName:"types_blockName__1_EsU",blockContent:"types_blockContent__3AXGr"}},37:function(e,t,n){e.exports={container:"CoursesSteps_container__saUZo"}},5:function(e,t,n){e.exports={blockContainer:"types_blockContainer__1JHb6",blockName:"types_blockName__1HocT",blockContent:"types_blockContent__2aG3n",img:"types_img__2v4be",blockVideo:"types_blockVideo__1_OPB",videoContainer:"types_videoContainer__3wWh3",buttonContainer:"types_buttonContainer__2NKvZ",button:"types_button__3Ni_K",checkAnswerContainer:"types_checkAnswerContainer__217hn",checkAnswer:"types_checkAnswer__7fETA",optionContainer:"types_optionContainer__1vYUP",selected:"types_selected__3EnUO",right:"types_right__37IEO",not:"types_not__1N54u",sss:"types_sss__1oy_8"}},51:function(e,t,n){e.exports={container:"Preloader_container__1HUFi"}},58:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){e.exports={"payment-message":"Payment_payment-message__PrXpm","payment-element":"Payment_payment-element__1djN0",spinner:"Payment_spinner__2MSy2",loading:"Payment_loading__2KsDy"}},91:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=n(32),c=n.n(r),o=(n(58),n(8)),i=n(9),u=n(11),l=n(10),j=n(6),d=n(3),p="LOADING",b="SET_STATUS_CODE",m="WRONG_AUTH",h={isLoading:!1,statusCode:"",wrongAuth:!1},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)(Object(d.a)({},e),{},{wrongAuth:t.value});case p:return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.isLoading});case b:return Object(d.a)(Object(d.a)({},e),{},{statusCode:t.value});default:return e}},v=function(e){return{type:p,isLoading:e}},_=n(15),x=n.n(_),f=n.p+"static/media/profile.0ab04cc9.svg",g=n(7),N=n(0);var C=function(e){return Object(N.jsx)("div",{className:x.a.name_main,children:localStorage.getItem("user").isAuth?Object(N.jsxs)(g.c,{style:function(e){return{color:e.isActive?"var(--color-active)":"black"}},to:"/profile",children:[Object(N.jsx)("div",{className:x.a.username,children:e.username}),Object(N.jsx)("div",{className:x.a.button,children:Object(N.jsx)("img",{className:x.a.profileImg,src:f,alt:""})})]}):Object(N.jsx)("div",{})})},k=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(N.jsx)(C,{username:this.props.state.user.username,isAuth:this.props.state.user.isAuth})}}]),n}(a.a.Component),y=Object(j.b)((function(e){return{state:e}}),(function(e){return{loading:function(t){return e(v(t))}}}))(k),S=n(20),L=n.n(S);var I=function(e){return Object(N.jsx)("div",{className:L.a.name_header,children:e.isAuth?Object(N.jsx)("div",{children:e.username}):Object(N.jsx)("div",{})})},A=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return console.log(this.props.state),Object(N.jsx)(I,{username:this.props.state.username,isAuth:this.props.state.isAuth})}}]),n}(a.a.Component);Object(j.b)((function(e){return{state:e.user}}))(A);var T="SET_COURSES",E="ADD_STEP",w="CREATE_COURSE",P="UPDATE_COURSE",D="PUSH_COURSE",R="COURSE_TITLE",U="SET_PERSONAL_COURSE",M="SET_TOTAL_PAGES_COUNT",F="SET_COURSE_ID",B="SET_CURRENT_PAGE",H="SET_PERSONAL_PROGRESS",K="SET_CURRENT_COURSE_NAME",G="SET_LESSONS",q="SET_CURRENT_LESSON",z="SET_STEPS",W="SET_CURRENT_STEP_NAME",Y="SET_COURSE_DESCRIPTION",J="SET_ONE_STEP",V="SET_CURRENT_LESSON_NUMBER",Z={courses:[{id:0},{id:1}],courseTitle:"",stepsLength:[],userCourses:"",personalCourse:"",currentPage:0,totalPagesCount:0,courseDescription:"",currentCourseName:"",lessons:"",currentLessonName:"",currentLessonNumber:"",steps:[],oneStep:"",currentStepName:"",courseId:"",personalProgress:""},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(d.a)(Object(d.a)({},e),{},{currentLessonNumber:t.value});case J:return Object(d.a)(Object(d.a)({},e),{},{oneStep:t.value});case Y:return Object(d.a)(Object(d.a)({},e),{},{courseDescription:t.value});case z:return Object(d.a)(Object(d.a)({},e),{},{steps:t.value});case W:return Object(d.a)(Object(d.a)({},e),{},{currentStepName:t.value});case q:return Object(d.a)(Object(d.a)({},e),{},{currentLessonName:t.value});case G:return Object(d.a)(Object(d.a)({},e),{},{lessons:t.value});case K:return Object(d.a)(Object(d.a)({},e),{},{currentCourseName:t.value});case T:return Object(d.a)(Object(d.a)({},e),{},{userCourses:t.value});case E:var n=e.stepsLength;return n.push(t.value),Object(d.a)(Object(d.a)({},e),{},{stepsLength:n});case w:return Object(d.a)(Object(d.a)({},e),{},{courses:t.value});case R:return Object(d.a)(Object(d.a)({},e),{},{courseTitle:t.value});case P:var s=e.courses,a=0;if(0===s.length){s.splice(s.length,0,t.value),ne(s);break}for(;a<s.length;){if(s[a].id===t.value.id){s.splice(a,1,t.value),ne(s);break}if(a===s.length-1){s.splice(s.length+1,0,t.value),console.log(s),ne(s);break}a++}return e;case D:return Object(d.a)(Object(d.a)({},e),{},{courses:t.array});case U:return Object(d.a)(Object(d.a)({},e),{},{personalCourse:t.value});case M:return Object(d.a)(Object(d.a)({},e),{},{totalPagesCount:t.value});case F:return Object(d.a)(Object(d.a)({},e),{},{courseId:t.value});case B:return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.value});case H:return Object(d.a)(Object(d.a)({},e),{},{personalProgress:t.value});default:return e}},X=function(e){return{type:z,value:e}},$=function(e){return{type:q,value:e}},ee=function(e){return{type:G,value:e}},te=function(e){return{type:K,value:e}},ne=function(e){return{type:D,value:e}},se=function(e){return{type:T,value:e}};var ae=function(e){function t(t){e.setCurrentLessonName(t)}return Object(N.jsx)("div",{className:x.a.profile_main,children:Object(N.jsx)("div",{className:x.a.fixed,children:Object(N.jsxs)("div",{className:x.a.fixed_fixed,children:[Object(N.jsx)("div",{className:x.a.title,children:Object(N.jsx)(g.c,{style:function(e){return{color:e.isActive?"var(--color-active)":"white"}},to:"/courses",children:Object(N.jsx)("div",{children:"GreenCosmic Study"})})}),localStorage.getItem("user").isAuth?Object(N.jsx)("div",{className:x.a.buttons,children:Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:x.a.Nav,children:"Current Course:"}),Object(N.jsx)("div",{className:x.a.button,children:""!==e.currentCourseName?Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{children:e.currentCourseName}),Object(N.jsx)("div",{children:Object(N.jsx)("div",{children:e.lessons.length>0?Object(N.jsx)("div",{children:e.lessons.map((function(n){return Object(N.jsx)("div",{className:x.a.lesson,children:e.currentLessonName===n.lessonName?Object(N.jsx)("div",{onClick:function(){t(n.lessonName)},className:x.a.selected,children:n.lessonName}):Object(N.jsx)("div",{onClick:function(){t(n.lessonName)},className:x.a.unselected,children:n.lessonName})},n.id)}))}):Object(N.jsx)("div",{})})})]}):Object(N.jsx)("div",{})})]})}):Object(N.jsx)("div",{className:x.a.greetings,children:"Good morning! We are glad to see you."})]})})})},re=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(N.jsx)(ae,{currentCourseName:this.props.state.courses.currentCourseName,currentLessonName:this.props.state.courses.currentLessonName,lessons:this.props.state.courses.lessons,username:this.props.state.user.username,isAuth:this.props.state.user.isAuth,setCurrentLessonName:this.props.setCurrentLessonName})}}]),n}(a.a.Component),ce=Object(j.b)((function(e){return{state:e}}),(function(e){return{setCurrentLessonName:function(t){return e($(t))}}}))(re),oe=n(23),ie=n.n(oe),ue=n(33),le=n(35),je=n(40),de="SET_USER",pe="GET_USER",be="REFRESH_TOKEN",me="SET_BIRTHDAY",he="SET_PHONE_NUMBER",Oe="SET_CITY",ve="SET_LINK_INST",_e="SET_LINK_LINKEDIN",xe="SET_LINK_FACEBOOK",fe="CLIENT_SECRET",ge="IS_AUTH",Ne={client_secret:"",token:"",username:"",_id:"",role:"",isAuth:"",birthday:"",phoneNumber:"",city:"",linkToInstagram:"",linkToFacebook:"",linkToLinkedIn:""},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(d.a)(Object(d.a)({},e),{},{client_secret:t.value});case me:return Object(d.a)(Object(d.a)({},e),{},{birthday:t.value});case he:return Object(d.a)(Object(d.a)({},e),{},{phoneNumber:t.value});case Oe:return Object(d.a)(Object(d.a)({},e),{},{city:t.value});case ve:return Object(d.a)(Object(d.a)({},e),{},{linkToInstagram:t.value});case _e:return Object(d.a)(Object(d.a)({},e),{},{linkToLinkedIn:t.value});case xe:return Object(d.a)(Object(d.a)({},e),{},{linkToFacebook:t.value});case de:return Object(d.a)(Object(d.a)({},e),{},{token:t.user.token,username:t.user.username,_id:t.user._id,role:t.user.role});case pe:console.log(e);break;case ge:return Object(d.a)(Object(d.a)({},e),{},{isAuth:t.value});case be:return Object(d.a)(Object(d.a)({},e),{},{token:t.value.accessToken,username:t.value.user.username,_id:t.value.user.id,role:t.value.user.roles});default:return e}},ke=function(e){return{type:de,user:e}},ye=function(e){return{type:ge,value:e}},Se=Object(je.a)({courses:Q,user:Ce,isLoading:O}),Le=Object(je.b)(Se);le.defaults.withCredentials=!0;var Ie=le.create({withCredentials:!0,baseURL:"https://greencosmic-api.vercel.app/api"});Ie.interceptors.request.use((function(e){return e.headers.Authorization="Bearer "+localStorage.getItem("token"),console.log(e.headers),e})),Ie.interceptors.response.use((function(e){return e}),function(){var e=Object(ue.a)(ie.a.mark((function e(t){var n,s;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.response.config,console.log(t.response.status),401!==t.response.status||!t.response.config||t.response.config.retry){e.next=18;break}return n.retry=!0,e.prev=4,e.next=7,le.get("/refresh",{withCredentials:!0});case 7:return s=e.sent,console.log(s),localStorage.setItem("token",s.data.accessToken),Le.dispatch(ye(!0)),e.abrupt("return",Ie.request(n));case 14:return e.prev=14,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return");case 18:throw t;case 19:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}());var Ae=Ie,Te=n(19),Ee=n.n(Te),we=n(21),Pe=n.n(we);var De=function(e){return Object(N.jsx)("div",{className:Pe.a.blockContainer,children:Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:Pe.a.blockName,children:e.blockName}),Object(N.jsx)("div",{className:Pe.a.blockContent,children:e.blockContent})]})})},Re=n(27),Ue=n.n(Re);var Me=function(e){return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:Ee.a.courseNameContainer,children:[Object(N.jsx)("div",{className:Ee.a.courseName,children:e.courseDescription.courseName}),Object(N.jsx)("div",{className:Ee.a.imageContainer,children:Object(N.jsx)("img",{className:Ee.a.img,src:e.courseDescription.mainImage,alt:""})})]}),Object(N.jsx)("div",{className:Ee.a.buttonContainer,children:Object(N.jsx)("div",{className:Ee.a.button,children:Object(N.jsx)(g.c,{to:"/courses/lessons",children:"Start"})})}),Object(N.jsx)("div",{className:Ee.a.blocksContainer,children:e.courseDescription.blocks?e.courseDescription.blocks.map((function(e){if("Text"===e.blockType)return Object(N.jsx)(De,{blockContent:e.blockContent,blockName:e.blockName})})):Object(N.jsx)("div",{})})]})},Fe=n.p+"static/media/preloader.9dd581ae.gif",Be=n(51),He=n.n(Be);var Ke=function(){return Object(N.jsx)("div",{className:He.a.container,children:Object(N.jsx)("img",{src:Fe,alt:" "})})},Ge=n(14),qe=n(13),ze=n.n(qe),We=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.loading(!0),Ae.post("/course/description",{courseName:this.props.state.courses.currentCourseName}).then((function(t){e.props.loading(!1),e.props.setCourseDescription(t.data)})).catch((function(t){e.props.loading(!1),console.log("user unauthorized"),console.log(t)}))}},{key:"render",value:function(){return console.log(""===this.props.state.courses.currentCourseName),""===this.props.state.courses.currentCourseName?Object(N.jsx)(Ge.a,{to:"/courses/"}):Object(N.jsx)("div",{className:ze.a.container,children:this.props.state.isLoading.isLoading?Object(N.jsx)(Ke,{}):Object(N.jsx)(Me,{courseDescription:this.props.state.courses.courseDescription})})}}]),n}(a.a.Component),Ye=Object(j.b)((function(e){return{state:e}}),(function(e){return{loading:function(t){return e(v(t))},isAuth:function(t){return e(ye(t))},setCourseDescription:function(t){return e(function(e){return{type:Y,value:e}}(t))}}}))(We),Je=n(25),Ve=n(53),Ze=n(4),Qe=n(37),Xe=n.n(Qe),$e=n(5),et=n.n($e);var tt=function(e){return Object(N.jsx)("div",{className:et.a.blockContainer,children:Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:et.a.blockName,children:e.stepName}),Object(N.jsx)("div",{className:et.a.blockContent,children:e.stepContent})]})})};var nt=function(e){var t="https://https://www.youtube.com/embed/"+(""!==e.stepContent?e.stepContent.split("=")[1].split("&")[0]:"7MJBeAyU1As");return Object(N.jsxs)("div",{className:et.a.videoContainer,children:[Object(N.jsx)("div",{className:et.a.blockName,children:e.stepName}),Object(N.jsx)("div",{className:et.a.blockVideo,children:Object(N.jsx)("iframe",{width:420,height:315,src:t})})]})};var st=function(e){return Object(N.jsx)("div",{className:et.a.blockContainer,children:Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:et.a.blockName,children:e.stepName}),Object(N.jsx)("div",{className:et.a.imgContainer,children:Object(N.jsx)("img",{className:et.a.img,alt:"",src:e.stepContent})})]})})};var at=function(e){return e.setButton(!0),Object(N.jsx)("div",{className:et.a.buttonContainer,children:Object(N.jsx)("div",{onClick:function(){e.onPageChanged()},className:et.a.button,children:"Continue"})})};var rt=function(e){var t=Object(s.useState)(""),n=Object(Ze.a)(t,2),a=n[0],r=n[1],c=Object(s.useState)(""),o=Object(Ze.a)(c,2),i=o[0],u=o[1],l=Object(s.useState)(!1),j=Object(Ze.a)(l,2),d=j[0],p=j[1];function b(){return Object(N.jsx)("div",{children:e.stepContent.map((function(e){return Object(N.jsx)("div",{className:et.a.optionContainer,children:e.question==a?Object(N.jsx)("div",{onClick:function(){u(e.answer),r(e.question)},className:et.a.selected,children:e.question}):Object(N.jsx)("div",{onClick:function(){u(e.answer),r(e.question)},className:et.a.unselected,children:e.question})})}))})}return d||e.setBlock(!0),Object(N.jsx)("div",{className:et.a.blockContainer,children:Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:et.a.blockName,children:e.stepName}),Object(N.jsxs)("div",{className:et.a.sss,children:[d?Object(N.jsx)("div",{className:et.a.right,children:b()}):Object(N.jsx)("div",{className:et.a.not,children:b()}),Object(N.jsx)("div",{className:et.a.checkAnswerContainer,children:Object(N.jsx)("div",{className:et.a.checkAnswer,onClick:function(){!function(){if(i)p(!0),e.setBlock(!1)}()},children:"Check Right Answer"})})]})]})})};var ct=function(e,t){console.log("\u0412\u043d\u0443\u0442\u0440\u0438 API"),console.log(e),console.log(t),console.log("\u0412\u043d\u0443\u0442\u0440\u0438 API"),Ae.post("/course/steps",{courseName:e,lessonName:t}).then((function(e){console.log(e),Le.dispatch(X(e.data.steps))})).catch((function(e){console.log("req error"),console.log(e)}))};var ot=function(e){var t=Object(s.useState)([]),n=Object(Ze.a)(t,2),a=n[0],r=n[1],c=Object(s.useState)(0),o=Object(Ze.a)(c,2),i=o[0],u=o[1],l=Object(s.useState)(!0),j=Object(Ze.a)(l,2),d=j[0],p=j[1],b=Object(s.useState)(0),m=Object(Ze.a)(b,2),h=m[0],O=m[1],v=Object(s.useState)(!1),_=Object(Ze.a)(v,2),x=_[0],f=_[1],g=Object(s.useState)(!0),C=Object(Ze.a)(g,2),k=C[0],y=C[1],S=Object(s.useState)(!1),L=Object(Ze.a)(S,2),I=L[0],A=L[1],T=e.steps.length,E=Object(Ge.g)();return Object(s.useEffect)((function(){if(k&&!d){var t=Ue.a.parse(E.location.search);Ae.post("/course/lessons",{courseName:t.course_name}).then((function(t){e.setLessons(t.data.lessons)})),e.setCurrentCourseName(t.course_name),e.setCurrentLessonName(t.lesson_name),""!==t.course_name&&""!==t.lesson_name&&e.auth&&(ct(t.course_name,t.lesson_name),y(!1))}}),[e.auth,d,h]),Object(s.useEffect)((function(){if(e.currentCourseName&&e.currentLessonName){var t=Ue.a.parse(E.location.search);t.course_name===e.currentCourseName&&t.lesson_name===e.currentLessonName||(y(!1),O(h+1),r([]),u(0),A(!1)),E.push({pathname:"/courses/lessons/steps",search:"?course_name="+e.currentCourseName+"&lesson_name="+e.currentLessonName})}y(!0),p(!1)}),[e.auth,e.currentLessonName]),Object(s.useEffect)((function(){if(e.steps.length>0&&a.length<T){var t,n=E.location.search,s=Ue.a.parse(n);Ae.post("/course/one-step",{courseName:s.course_name,lessonName:s.lesson_name,stepName:null===(t=e.steps[i])||void 0===t?void 0:t.stepName}).then((function(e){var t=!1;e.data.message&&(t=!0);var n=0;a.map((function(t){return t.stepName===e.data.stepName&&e.data.stepName&&n++,t})),0!==n||t||(r([].concat(Object(Ve.a)(a),[e.data])),u((function(e){return e+1})))})).catch((function(e){console.log(e)}))}})),Object(N.jsx)("div",{children:Object(N.jsxs)("div",{id:"content",children:[a.map((function(e,t){return"Test"===e.stepType?Object(N.jsx)(rt,{stepName:e.stepName,stepContent:e.stepContent,setBlock:A},t):"Img"===e.stepType?Object(N.jsx)(st,{stepName:e.stepName,stepContent:e.stepContent},t):"Text"===e.stepType?Object(N.jsx)(tt,{stepName:e.stepName,stepContent:e.stepContent},t):"Video"===e.stepType?Object(N.jsx)(nt,{stepName:e.stepName,stepContent:e.stepContent},t):e})),0===T||!(T===i||T<i)||x||I?Object(N.jsx)("div",{}):Object(N.jsx)(at,{onPageChanged:e.onPageChanged,setButton:function(){return f}})]})})},it=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(){if(e.props.state.courses.currentLessonNumber!==e.props.state.courses.lessons.length-1){var t,n,s,a,r,c,o,i,u;if(null===(t=Object(Je.a)(e))||void 0===t||null===(n=t.props)||void 0===n||null===(s=n.state)||void 0===s||null===(a=s.courses)||void 0===a?void 0:a.lessons)null===(c=Object(Je.a)(e))||void 0===c||null===(o=c.props)||void 0===o||null===(i=o.state)||void 0===i||null===(u=i.courses)||void 0===u||u.lessons.map((function(t,n){t.lessonName===e.props.state.courses.currentLessonName&&(r=n+1)}));e.props.setCurrentLessonName(e.props.state.courses.lessons[r].lessonName)}},e}return Object(i.a)(n,[{key:"shouldComponentUpdate",value:function(e){var t,n,s,a,r,c,o,i,u,l,j,d;return(null===(t=this.props.state)||void 0===t||null===(n=t.courses)||void 0===n?void 0:n.steps[0])!==(null===(s=e.state)||void 0===s||null===(a=s.courses)||void 0===a?void 0:a.steps[0])||(null===(r=this.props.state)||void 0===r||null===(c=r.courses)||void 0===c?void 0:c.currentLessonName)!==(null===(o=e.state)||void 0===o||null===(i=o.courses)||void 0===i?void 0:i.steps[0])||(null===(u=this.props.state)||void 0===u||null===(l=u.courses)||void 0===l?void 0:l.currentLessonNumber)!==(null===(j=e.state)||void 0===j||null===(d=j.courses)||void 0===d?void 0:d.currentLessonNumber)}},{key:"render",value:function(){return console.log("\u0412\u042b\u0417\u0412\u0410\u041b\u0421\u042f \u0420\u0415\u0420\u0415\u041d\u0414\u0415\u0420"),Object(N.jsx)("div",{className:Xe.a.container,children:this.props.state.isLoading.isLoading?Object(N.jsx)(Ke,{}):Object(N.jsx)(ot,{setSteps:this.props.setSteps,setCurrentLessonName:this.props.setCurrentLessonName,setCurrentCourseName:this.props.setCurrentCourseName,setCurrentLessonNumber:this.props.setCurrentLessonNumber,setLessons:this.props.setLessons,onPageChanged:this.onPageChanged,lessons:this.props.state.courses.lessons,currentCourseName:this.props.state.courses.currentCourseName,currentLessonName:this.props.state.courses.currentLessonName,currentLessonNumber:this.props.state.courses.currentLessonNumber,steps:this.props.state.courses.steps,auth:this.props.state.user.isAuth})})}}]),n}(a.a.Component),ut=Object(j.b)((function(e){return{state:e}}),(function(e){return{loading:function(t){return e(v(t))},isAuth:function(t){return e(ye(t))},setLessons:function(t){return e(ee(t))},setSteps:function(t){return e(X(t))},setCurrentCourseName:function(t){return e(te(t))},setCurrentLessonName:function(t){return e($(t))},setCurrentLessonNumber:function(t){return e(function(e){return{type:V,value:e}}(t))}}}))(it),lt=n(2),jt=n.n(lt),dt=n.p+"static/media/mark_email_read_black_24dp.74418ed0.svg";var pt=function(){return Object(N.jsxs)("div",{className:jt.a.emailContainer,children:[Object(N.jsx)("div",{className:jt.a.text,children:"We sent a message to your Email adress. Please check it and confirm your Email adress"}),Object(N.jsx)("div",{className:jt.a.icon,children:Object(N.jsx)("img",{width:60,alt:"",src:dt})})]})},bt=n.p+"static/media/relax.ebc855a3.svg";var mt=function(e){var t=Object(s.useState)(""),n=Object(Ze.a)(t,2),a=n[0],r=n[1],c=Object(s.useState)(""),o=Object(Ze.a)(c,2),i=o[0],u=o[1],l=Object(s.useState)(""),j=Object(Ze.a)(l,2),d=j[0],p=j[1];return Object(N.jsxs)("div",{className:jt.a.container,children:[Object(N.jsx)("div",{children:200===e.state.isLoading.statusCode?Object(N.jsx)(pt,{}):Object(N.jsx)("div",{className:jt.a.container,children:Object(N.jsxs)("div",{className:jt.a.customContainer,children:[Object(N.jsx)("div",{className:jt.a.login_container,children:Object(N.jsxs)("div",{className:jt.a.registration,children:[Object(N.jsx)("div",{className:jt.a.title,children:"Create your profile"}),Object(N.jsxs)("div",{className:jt.a.input,children:[Object(N.jsx)("div",{className:jt.a.inputContainer,children:Object(N.jsx)("div",{className:jt.a.customInput,children:Object(N.jsx)("input",{value:a,onInput:function(e){return r(e.target.value)},type:"text",placeholder:"Username"})})}),Object(N.jsx)("div",{className:jt.a.inputContainer,children:Object(N.jsx)("div",{className:jt.a.customInput,children:Object(N.jsx)("input",{value:i,onInput:function(e){return u(e.target.value)},type:"text",placeholder:"Email"})})}),Object(N.jsx)("div",{className:jt.a.inputContainer,children:Object(N.jsx)("div",{className:jt.a.customInput,children:Object(N.jsx)("input",{value:d,onInput:function(e){return p(e.target.value)},type:"text",placeholder:"Password"})})}),Object(N.jsx)("div",{className:jt.a.buttonContainer,children:Object(N.jsx)("button",{onClick:function(){e.registration({email:i,username:a,password:d})},className:jt.a.button,children:"Registration"})}),Object(N.jsxs)("div",{className:jt.a.link,children:[Object(N.jsx)("div",{children:"Already have an account?"}),Object(N.jsx)(g.c,{style:function(e){return{color:e.isActive?"var(--color-active)":"black"}},to:"/",children:Object(N.jsx)("div",{className:jt.a.linkClick,children:" Sign-In?"})})]})]})]})}),Object(N.jsx)("div",{})]})})}),Object(N.jsx)("div",{children:Object(N.jsx)("img",{className:jt.a.img,src:bt,alt:""})})]})},ht=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).registration=function(t){var n=t.username,s=t.password,a=t.email;Ae.post("/registration",{email:a,password:s,username:n}).then((function(t){console.log(t),localStorage.setItem("client_secret",t.data.client_secret),e.props.setClientSecret(t.data.client_secret),e.props.loading(!1)})).catch((function(t){e.props.loading(!1),console.log(t)}))},e}return Object(i.a)(n,[{key:"render",value:function(){return""!==this.props.state.user.client_secret?Object(N.jsx)(Ge.a,{to:"/payment"}):Object(N.jsx)("div",{children:this.props.state.isLoading.isLoading?Object(N.jsx)(Ke,{}):Object(N.jsx)(mt,{state:this.props.state,registration:this.registration})})}}]),n}(a.a.Component),Ot=Object(j.b)((function(e){return{state:e}}),(function(e){return{setUser:function(t){return e(ke(t))},loading:function(t){return e(v(t))},setStatusCode:function(t){return e(function(e){return{type:b,value:e}}(t))},setClientSecret:function(t){return e(function(e){return{type:fe,value:e}}(t))}}}))(ht);var vt=function(e){var t=Object(s.useState)(""),n=Object(Ze.a)(t,2),a=n[0],r=n[1],c=Object(s.useState)(""),o=Object(Ze.a)(c,2),i=o[0],u=o[1];return console.log(e.wrongAuth),Object(N.jsxs)("div",{className:jt.a.container,children:[Object(N.jsxs)("div",{className:jt.a.customContainer,children:[Object(N.jsx)("div",{className:jt.a.login_container,children:Object(N.jsxs)("div",{className:jt.a.registration,children:[Object(N.jsx)("div",{className:jt.a.title,children:"Enter your profile"}),e.wrongAuth?Object(N.jsx)("div",{children:"Wrong email or password"}):Object(N.jsx)("div",{}),Object(N.jsxs)("div",{className:jt.a.input,children:[Object(N.jsx)("div",{className:jt.a.inputContainer,children:Object(N.jsx)("div",{className:jt.a.customInput,children:Object(N.jsx)("input",{value:a,onInput:function(e){return r(e.target.value)},type:"text",placeholder:"Email"})})}),Object(N.jsx)("div",{className:jt.a.inputContainer,children:Object(N.jsx)("div",{className:jt.a.customInput,children:Object(N.jsx)("input",{value:i,onInput:function(e){return u(e.target.value)},type:"text",placeholder:"Password"})})}),Object(N.jsx)("div",{className:jt.a.buttonContainer,children:Object(N.jsx)("button",{onClick:function(){e.login({email:a,password:i})},className:jt.a.button,children:"Login"})}),Object(N.jsxs)("div",{className:jt.a.link,children:[Object(N.jsx)("div",{children:"Don't have a profile yet?"}),Object(N.jsx)(g.c,{style:function(e){return{color:e.isActive?"var(--color-active)":"black"}},to:"/auth/registration",children:Object(N.jsx)("div",{className:jt.a.linkClick,children:" Register now"})})]})]})]})}),Object(N.jsx)("div",{})]}),Object(N.jsx)("div",{children:Object(N.jsx)("img",{className:jt.a.img,src:bt,alt:""})})]})},_t=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).login=function(t){var n=t.password,s=t.email;e.props.loading(!0),Ae.post("/login",{email:s,password:n}).then((function(t){console.log(t);var n={token:t.data.accessToken,username:t.data.user.username,_id:t.data.user.id,role:t.data.user.roles,isAuth:!0};e.props.setUser(n),e.props.loading(!1),localStorage.setItem("user",n),e.props.isAuth(!0),localStorage.setItem("token",t.data.accessToken)})).catch((function(t){e.props.setWrongAuth(!0),e.props.loading(!1),console.log("wrong auth"),console.log(t)}))},e}return Object(i.a)(n,[{key:"render",value:function(){return!0===localStorage.getItem("user").isAuth?this.props.state.user.role[1]&&"ADMIN"===this.props.state.user.role[1]?Object(N.jsx)(Ge.a,{to:"/admin"}):Object(N.jsx)(Ge.a,{to:"/courses"}):Object(N.jsx)("div",{children:this.props.state.isLoading.isLoading?Object(N.jsx)(Ke,{}):Object(N.jsx)(vt,{wrongAuth:this.props.state.isLoading.wrongAuth,state:this.props.state,login:this.login})})}}]),n}(a.a.Component),xt=Object(j.b)((function(e){return{state:e}}),(function(e){return{setUser:function(t){return e(ke(t))},loading:function(t){return e(v(t))},isAuth:function(t){return e(ye(t))},setWrongAuth:function(t){return e(function(e){return{type:m,value:e}}(t))}}}))(_t),ft=n.p+"static/media/marketing.c28734b9.svg";var gt=function(e){return""!==e.userCourses?Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:ze.a.introduction,children:[localStorage.getItem("user").username+", great day to learn something new!",Object(N.jsx)("div",{className:ze.a.subIntroduction,children:"Available courses:"})]})}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{className:ze.a.coursesContainer,children:e.userCourses.map((function(t){return Object(N.jsxs)("div",{className:ze.a.courseName,children:[Object(N.jsx)(g.c,{style:function(e){return{color:e.isActive?"var(--color-active)":"white"}},to:"/courses/description",onClick:function(){e.setCurrentCourseName(t.courseName)},children:Object(N.jsx)("div",{className:ze.a.content,children:t.courseName})}),Object(N.jsx)("div",{className:ze.a.img,children:Object(N.jsx)("img",{alt:"",src:t.svgImage})})]},t._id)}))}),Object(N.jsx)("div",{className:ze.a.coming,children:Object(N.jsx)("div",{className:ze.a.comingContent,children:Object(N.jsx)("div",{className:ze.a.coming_soon,children:"Coming soon..."})})}),Object(N.jsx)("div",{children:Object(N.jsx)("img",{className:ze.a.menuImage,src:ft,alt:""})})]}):Object(N.jsx)("div",{children:"Something went wrong"})},Nt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.loading(!0),console.log("zapros"),Ae.get("/course/all").then((function(t){e.props.loading(!1),e.props.setCourses(t.data)})).catch((function(t){e.props.loading(!1),console.log("user unauthorized"),console.log(t)}))}},{key:"render",value:function(){return Object(N.jsx)("div",{className:ze.a.container,children:this.props.state.isLoading.isLoading?Object(N.jsx)(Ke,{}):Object(N.jsx)(gt,{userCourses:this.props.state.courses.userCourses,loading:this.props.loading,username:this.props.state.user.username,setCurrentCourseName:this.props.setCurrentCourseName})})}}]),n}(a.a.Component),Ct=Object(j.b)((function(e){return{state:e}}),(function(e){return{loading:function(t){return e(v(t))},isAuth:function(t){return e(ye(t))},setCourses:function(t){return e(se(t))},setCurrentCourseName:function(t){return e(te(t))}}}))(Nt),kt=n(12),yt=n.n(kt);var St=function(e){var t=Object(s.useState)(""),n=Object(Ze.a)(t,2),a=n[0],r=n[1],c=Object(s.useState)(""),o=Object(Ze.a)(c,2),i=o[0],u=o[1],l=Object(s.useState)(""),j=Object(Ze.a)(l,2),d=j[0],p=j[1];return e.updateCourse({stepTitle:a,stepType:i,stepContent:d,id:e.id}),Object(N.jsxs)("div",{className:yt.a.steps,children:[Object(N.jsx)("div",{children:"Steps:"}),Object(N.jsxs)("div",{className:yt.a.oneStep,children:[Object(N.jsxs)("div",{className:yt.a.stepTitle,children:[Object(N.jsx)("div",{className:yt.a.text,children:"Title:"}),Object(N.jsx)("div",{className:yt.a.customInput,children:Object(N.jsx)("input",{value:a,onInput:function(e){return r(e.target.value)},type:"text",placeholder:"Step Title",name:""})})]}),Object(N.jsxs)("div",{className:yt.a.stepTitle,children:[Object(N.jsx)("div",{className:yt.a.text,children:"Type: "}),Object(N.jsx)("div",{className:yt.a.type,children:Object(N.jsxs)("select",{className:yt.a.select,value:i,onChange:function(e){return u(e.target.value)},children:[Object(N.jsx)("option",{selected:!0,value:"Text",children:"Text"}),Object(N.jsx)("option",{value:"Text",children:"Video"}),Object(N.jsx)("option",{value:"Text",children:"Test"})]})})]}),Object(N.jsxs)("div",{className:yt.a.stepTitle,children:[Object(N.jsx)("div",{className:yt.a.text,children:"Content: "}),Object(N.jsx)("div",{children:Object(N.jsx)("textarea",{className:yt.a.textarea,value:d,onChange:function(e){return p(e.target.value)}})})]})]})]})};var Lt=function(e){var t=Object(s.useState)(""),n=Object(Ze.a)(t,2),a=n[0],r=n[1];return Object(N.jsxs)("div",{className:yt.a.container,children:[Object(N.jsx)("div",{className:yt.a.admin,children:"Admin Page"}),Object(N.jsx)("div",{className:yt.a.newContainer,children:Object(N.jsxs)("div",{className:yt.a.title,children:[Object(N.jsx)("div",{className:yt.a.text,children:"Course Title:"}),Object(N.jsx)("div",{className:yt.a.inputContainer,children:Object(N.jsx)("div",{className:yt.a.customInput,children:Object(N.jsx)("input",{value:a,onInput:function(e){return r(e.target.value)},type:"text",placeholder:"Course Title",name:""})})}),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{children:"Lesson title:"}),Object(N.jsx)("div",{children:e.stepsLength.map((function(t){return Object(N.jsx)("div",{name:t.toString(),children:Object(N.jsx)(St,{updateCourse:e.updateCourse,id:t})},t.toString())}))}),Object(N.jsx)("div",{className:yt.a.buttonContainer,children:Object(N.jsx)("button",{className:yt.a.button,onClick:function(){return e.change()},children:"Add Step"})})]})]})}),Object(N.jsx)("button",{className:yt.a.button,onClick:function(){e.createCourse({courseName:a})},children:"Create Course"})]})},It=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).change=function(){e.props.addStep(e.props.state.courses.stepsLength.length)},e.createCourse=function(t){e.props.loading(!0);var n={courseName:t.courseName,steps:e.props.state.courses.courses,id:e.props.state.user._id};Ae.post("/admin/course/create",n).then((function(t){console.log(t),e.props.loading(!1)})).catch((function(t){e.props.loading(!1),console.log(t)}))},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(N.jsx)("div",{children:this.props.state.isLoading.isLoading?Object(N.jsx)(Ke,{}):Object(N.jsx)("div",{children:Object(N.jsx)(Lt,{state:this.props.state,loading:this.props.loading,change:this.change,courses:this.props.state.courses.courses,stepsLength:this.props.state.courses.stepsLength,updateCourse:this.props.updateCourse,createCourse:this.createCourse})})})}}]),n}(a.a.Component),At=Object(j.b)((function(e){return{state:e}}),(function(e){return{loading:function(t){return e(v(t))},setCourses:function(t){return e(se(t))},addStep:function(t){return e(function(e){return{type:E,value:e}}(t))},updateCourse:function(t){return e(function(e){return{type:P,value:e}}(t))},setCourseTitle:function(t){return e(function(e){return{type:R,value:e}}(t))}}}))(It);var Tt=function(e){return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:ze.a.introduction,children:[localStorage.getItem("user").username+", great day to learn something new!",Object(N.jsx)("div",{className:ze.a.subIntroduction,children:"Choose lesson"})]})}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{children:e.lessons?e.lessons.map((function(t){return Object(N.jsx)("div",{className:ze.a.courseName,children:Object(N.jsx)("div",{onClick:function(){e.setCurrentLessonName(t.lessonName)},children:Object(N.jsx)(g.b,{to:"/courses/lessons/steps",children:Object(N.jsx)("div",{className:ze.a.content,children:t.lessonName})})})},t._id)})):Object(N.jsx)("div",{children:"\u041f\u0440\u0438\u0432\u0435\u0442"})})]})},Et=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.loading(!0),Ae.post("/course/lessons",{courseName:this.props.state.courses.currentCourseName}).then((function(t){e.props.loading(!1),e.props.setLessons(t.data.lessons)})).catch((function(t){e.props.loading(!1),console.log("user unauthorized"),console.log(t)}))}},{key:"render",value:function(){return""===this.props.state.courses.currentCourseName?Object(N.jsx)(Ge.a,{to:"/courses"}):Object(N.jsx)("div",{className:ze.a.container,children:this.props.state.isLoading.isLoading?Object(N.jsx)(Ke,{}):Object(N.jsx)(Tt,{courseName:this.props.state.courses.courseName,username:this.props.state.user.username,lessons:this.props.state.courses.lessons,setCurrentLessonName:this.props.setCurrentLessonName,setSteps:this.props.setSteps})})}}]),n}(a.a.Component),wt=Object(j.b)((function(e){return{state:e}}),(function(e){return{loading:function(t){return e(v(t))},isAuth:function(t){return e(ye(t))},setCourses:function(t){return e(se(t))},setLessons:function(t){return e(ee(t))},setCurrentLessonName:function(t){return e($(t))},setSteps:function(t){return e(X(t))}}}))(Et);n(89);var Pt=function(e){var t=Object(s.useState)(e.username),n=Object(Ze.a)(t,2),a=n[0],r=n[1],c=Object(s.useState)(e.city),o=Object(Ze.a)(c,2),i=o[0],u=o[1],l=Object(s.useState)(e.phoneNumber),j=Object(Ze.a)(l,2),d=j[0],p=j[1],b=Object(s.useState)(e.birthday),m=Object(Ze.a)(b,2),h=m[0],O=m[1],v=Object(s.useState)(e.linkFacebook),_=Object(Ze.a)(v,2),x=_[0],f=_[1],g=Object(s.useState)(e.linkLinkedIn),C=Object(Ze.a)(g,2),k=C[0],y=C[1],S=Object(s.useState)(e.linkInstagram),L=Object(Ze.a)(S,2),I=L[0],A=L[1];return Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:jt.a.container,children:[Object(N.jsxs)("div",{className:jt.a.customContainer,children:[Object(N.jsx)("div",{className:jt.a.login_container,children:Object(N.jsxs)("div",{className:jt.a.registration,children:[Object(N.jsx)("div",{className:jt.a.title,children:"Profile"}),Object(N.jsxs)("div",{className:jt.a.input,children:[Object(N.jsx)("div",{children:"Username"}),Object(N.jsx)("div",{className:jt.a.inputContainer,children:Object(N.jsx)("div",{className:jt.a.customInput,children:Object(N.jsx)("input",{value:a,onInput:function(e){return r(e.target.value)},type:"text"})})})]}),Object(N.jsxs)("div",{className:jt.a.input,children:[Object(N.jsx)("div",{children:"City"}),Object(N.jsx)("div",{className:jt.a.inputContainer,children:Object(N.jsx)("div",{className:jt.a.customInput,children:Object(N.jsx)("input",{value:i,onInput:function(e){return u(e.target.value)},type:"text"})})})]}),Object(N.jsxs)("div",{className:jt.a.input,children:[Object(N.jsx)("div",{children:"Phone Number"}),Object(N.jsx)("div",{className:jt.a.inputContainer,children:Object(N.jsx)("div",{className:jt.a.customInput,children:Object(N.jsx)("input",{value:d,onInput:function(e){return p(e.target.value)},type:"text"})})})]}),Object(N.jsxs)("div",{className:jt.a.input,children:[Object(N.jsx)("div",{children:"Birthday"}),Object(N.jsx)("div",{className:jt.a.inputContainer,children:Object(N.jsx)("div",{className:jt.a.customInput,children:Object(N.jsx)("input",{value:h,onInput:function(e){return O(e.target.value)},type:"text"})})})]}),Object(N.jsxs)("div",{className:jt.a.input,children:[Object(N.jsx)("div",{children:"Link to Facebook"}),Object(N.jsx)("div",{className:jt.a.inputContainer,children:Object(N.jsx)("div",{className:jt.a.customInput,children:Object(N.jsx)("input",{value:x,onInput:function(e){return f(e.target.value)},type:"text"})})})]}),Object(N.jsxs)("div",{className:jt.a.input,children:[Object(N.jsx)("div",{children:"Link to LinkedIn"}),Object(N.jsx)("div",{className:jt.a.inputContainer,children:Object(N.jsx)("div",{className:jt.a.customInput,children:Object(N.jsx)("input",{value:k,onInput:function(e){return y(e.target.value)},type:"text"})})})]}),Object(N.jsxs)("div",{className:jt.a.input,children:[Object(N.jsx)("div",{children:"Link to Instagram"}),Object(N.jsx)("div",{className:jt.a.inputContainer,children:Object(N.jsx)("div",{className:jt.a.customInput,children:Object(N.jsx)("input",{value:I,onInput:function(e){return A(e.target.value)},type:"text"})})})]}),Object(N.jsx)("div",{className:jt.a.buttonContainer,children:Object(N.jsx)("button",{onClick:function(){e.saveChanges({})},className:jt.a.button,children:"Save Changes"})})]})}),Object(N.jsx)("div",{})]}),Object(N.jsx)("div",{children:Object(N.jsx)("img",{className:jt.a.img,src:bt,alt:""})})]})})},Dt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).saveChanges=function(){},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;v(!0),Ae.post("/user-information").then((function(t){var n,s,a,r,c,o;(null===(n=t.data)||void 0===n?void 0:n.birthday)&&e.props.setBirthday(t.data.birthday),(null===(s=t.data)||void 0===s?void 0:s.phoneNumber)&&e.props.setPhoneNumber(t.data.phoneNumber),(null===(a=t.data)||void 0===a?void 0:a.city)&&e.props.setCity(t.data.city),(null===(r=t.data)||void 0===r?void 0:r.linkFacebook)&&e.props.setLinkFacebook(t.data.linkFacebook),(null===(c=t.data)||void 0===c?void 0:c.linkLinkedIn)&&e.props.setLinkLinkedIn(t.data.linkLinkedIn),(null===(o=t.data)||void 0===o?void 0:o.linkInstagram)&&e.props.setLinkInstagram(t.data.linkInstagram)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(N.jsx)(Pt,{username:this.props.state.user.username,birthday:this.props.state.user.birthday,phoneNumber:this.props.state.user.phoneNumber,city:this.props.state.user.city,linkFacebook:this.props.state.user.linkFacebook,linkLinkedIn:this.props.state.user.linkLinkedIn,linkInstagram:this.props.state.user.linkInstagram})}}]),n}(a.a.Component),Rt=Object(j.b)((function(e){return{state:e}}),(function(e){return{loading:function(t){return e(v(t))},setBirthday:function(t){return e(function(e){return{type:me,value:e}}(t))},setPhoneNumber:function(t){return e(function(e){return{type:he,value:e}}(t))},setCity:function(t){return e(function(e){return{type:Oe,value:e}}(t))},setLinkFacebook:function(t){return e(function(e){return{type:xe,value:e}}(t))},setLinkLinkedIn:function(t){return e(function(e){return{type:_e,value:e}}(t))},setLinkInstagram:function(t){return e(function(e){return{type:ve,value:e}}(t))}}}))(Dt),Ut=n(52),Mt=n(24);function Ft(){var e=Object(Mt.useStripe)(),t=Object(Mt.useElements)(),n=Object(s.useState)(null),a=Object(Ze.a)(n,2),r=a[0],c=a[1],o=Object(s.useState)(!1),i=Object(Ze.a)(o,2),u=i[0],l=i[1];Object(s.useEffect)((function(){if(e){var t=new URLSearchParams(window.location.search).get("payment_intent_client_secret");t&&e.retrievePaymentIntent(t).then((function(e){var t=e.paymentIntent;switch(console.log("Im here"),t.status){case"succeeded":c("Payment succeeded!"),Ae.post("/create-payment-intent/activate-user",localStorage.getItem("client_secret")).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));break;case"processing":c("Your payment is processing.");break;case"requires_payment_method":c("Your payment was not successful, please try again.");break;default:c("Something went wrong.")}}))}}),[e]);var j=function(){var n=Object(ue.a)(ie.a.mark((function n(s){var a,r;return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.preventDefault(),e&&t){n.next=3;break}return n.abrupt("return");case 3:return l(!0),n.next=6,e.confirmPayment({elements:t,confirmParams:{return_url:"http://localhost:3000"}});case 6:a=n.sent,"card_error"===(r=a.error).type||"validation_error"===r.type?c(r.message):c("An unexpected error occured."),l(!1);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(N.jsxs)("form",{id:"payment-form",onSubmit:j,children:[Object(N.jsx)(Mt.PaymentElement,{id:"payment-element"}),Object(N.jsx)("button",{disabled:u||!e||!t,id:"submit",children:Object(N.jsx)("span",{id:"button-text",children:u?Object(N.jsx)("div",{className:"spinner",id:"spinner"}):"Pay now"})}),r&&Object(N.jsx)("div",{id:"payment-message",children:r})]})}n(90);var Bt=Object(Ut.a)("pk_test_51KRcjgF95E6xGFpDKlYkxIoVMeQKAkNQ93qXu9tBJIrv3PqQ4oQD6PfG9Bb9xJtRSYf3hL4olUhAlk9JcGdtdMK1004ps5RQvv");function Ht(e){var t=Object(s.useState)(""),n=Object(Ze.a)(t,2),a=n[0],r=n[1];Object(s.useEffect)((function(){r(e.client_secret)})),Object(s.useEffect)((function(){}),[]);var c={clientSecret:a,appearance:{theme:"stripe"}};return Object(N.jsx)("div",{className:"App",children:a&&Object(N.jsx)(Mt.Elements,{options:c,stripe:Bt,children:Object(N.jsx)(Ft,{})})})}var Kt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(N.jsx)(Ht,{client_secret:this.props.state.user.client_secret})}}]),n}(a.a.Component),Gt=Object(j.b)((function(e){return{state:e}}))(Kt);var qt=function(){return Object(N.jsx)("div",{className:"container",children:Object(N.jsxs)(g.a,{children:[Object(N.jsx)(y,{}),Object(N.jsxs)(Ge.d,{children:[Object(N.jsx)(Ge.b,{exact:!0,path:"/auth/registration",render:function(){return Object(N.jsx)(Ot,{})}}),Object(N.jsx)(Ge.b,{exact:!0,path:"/",render:function(){return Object(N.jsx)(xt,{})}}),Object(N.jsx)(Ge.b,{exact:!0,path:"/courses",render:function(){return Object(N.jsx)(Ct,{})}}),Object(N.jsx)(Ge.b,{exact:!0,path:"/admin",render:function(){return Object(N.jsx)(At,{})}}),Object(N.jsx)(Ge.b,{exact:!0,path:"/courses/description/",render:function(){return Object(N.jsx)(Ye,{})}}),Object(N.jsx)(Ge.b,{exact:!0,path:"/courses/lessons/steps",render:function(){return Object(N.jsx)(ut,{})}}),Object(N.jsx)(Ge.b,{exact:!0,path:"/courses/lessons",render:function(){return Object(N.jsx)(wt,{})}}),Object(N.jsx)(Ge.b,{exact:!0,path:"/profile",render:function(){return Object(N.jsx)(Rt,{})}}),Object(N.jsx)(Ge.b,{exact:!0,path:"/payment",render:function(){return Object(N.jsx)(Gt,{})}}),Object(N.jsx)(Ge.a,{to:"/"})]}),Object(N.jsx)(ce,{})]})})},zt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,92)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),r(e),c(e)}))};c.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(j.a,{store:Le,children:Object(N.jsx)(qt,{})})}),document.getElementById("root")),zt()}},[[91,1,2]]]);
//# sourceMappingURL=main.1c480012.chunk.js.map